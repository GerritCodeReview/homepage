{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ade3e929_8e0feced",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-04-13T17:49:39Z",
      "side": 1,
      "message": "Thanks all for the feedback!\nI believe that the idea behind writing yet another auth backend became pretty outdated since it was originally conceived and today we have the following options to integrate (thanks Luca for enumerating all of them ;):\n* HTTP header\n* LDAP\n* OAuth2\n* OpenID\n* SAML\n* container-based\n* Kerberos\n\nIMHO there is no longer a need to spend time on designing it and we should rather discourage people from trying to do that :)\nHaving said that I still believe that the following issues could/should be addressed:\n1. review existing code to get rid off parts that are not in use/cannot be used (e.g. CUSTOM_EXTENSION)\n2. identify 3rd party dependencies (like openid, oauth etc.) could/should be moved to the lib modules (core lib modules available in the war) so that Gerrit core doesn\u0027t have to carry all of them\n\nTo sum it up: I\u0027m leaning towards addressing auth improvements rather through issue tracker (small steps evolution/clean up) than introducing the design that is no longer relevant.",
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76123a02_0175c695",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-15T00:21:24Z",
      "side": 1,
      "message": "Thanks @Jacek for your summary. Are you going to abandon this change?",
      "parentUuid": "ade3e929_8e0feced",
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6014365_969259cb",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "Might be worth moving the background section here so the reader will have context straight away",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 7,
        "endChar": 3
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e2483a0_f955ec6c",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "What about expressing the user cases in a \"AS...GIVEN...WHEN...THEN\" form?",
      "range": {
        "startLine": 11,
        "startChar": 28,
        "endLine": 11,
        "endChar": 37
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ae68672_732403a4",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "Git/HTTP is already possible today, whilst Git/SSH isn\u0027t as the SSH keys are stored in Gerrit rather than in an external system. Would be better to explicitly state that.",
      "range": {
        "startLine": 13,
        "startChar": 59,
        "endLine": 14,
        "endChar": 15
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "370e84e8_a0f0b6a0",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "Are you talking about 2FA here?",
      "range": {
        "startLine": 16,
        "startChar": 28,
        "endLine": 16,
        "endChar": 39
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c971da6_add4ef7a",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "This is actually available through a non-core plugin.",
      "range": {
        "startLine": 19,
        "startChar": 59,
        "endLine": 19,
        "endChar": 64
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cca795fd_c9eed3f7",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "Since the auth types are not that many, can we explicitly mention them and clarify which one are offered by Gerrit core and which one from plugins (core,non-core)?",
      "parentUuid": "4c971da6_add4ef7a",
      "range": {
        "startLine": 19,
        "startChar": 59,
        "endLine": 19,
        "endChar": 64
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4142b071_20017829",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "Can you mention any 3rd party authentication system that isn\u0027t supporting one of the protocols that Gerrit support today?\n- LDAP\n- HTTP header\n- OpenID\n- OAuth 2.0\n- SAML\n- Java EE Container-based\n- Kerberos\n\nWhat are the additional one that we are missing?",
      "range": {
        "startLine": 21,
        "startChar": 27,
        "endLine": 21,
        "endChar": 69
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9926260e_fe94dc55",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 21,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-04-13T17:49:39Z",
      "side": 1,
      "message": "I meant the 3rd proprietary system that exists already (and is neither of those ;)) and is responsible for user auth so that Gerrit could be integrated with.",
      "parentUuid": "4142b071_20017829",
      "range": {
        "startLine": 21,
        "startChar": 27,
        "endLine": 21,
        "endChar": 69
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea1439b9_3b4b7cdf",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "AFAIK LDAP, OAuth, SAML do it already. Which ones are the auth backends that won\u0027t allow that?",
      "range": {
        "startLine": 26,
        "startChar": 40,
        "endLine": 27,
        "endChar": 53
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2a38c1d_533f1fab",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 30,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "AFAIK this is already the way it works today.",
      "range": {
        "startLine": 29,
        "startChar": 38,
        "endLine": 30,
        "endChar": 26
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "095b9258_524f3ffd",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "Is this 2FA or account federation?",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 32,
        "endChar": 28
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e51c9e5_f1f94219",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "This should be made more explicit though: from what you say, the purpose is more a refactoring of existing authentication systems rather than writing new ones?",
      "range": {
        "startLine": 35,
        "startChar": 16,
        "endLine": 36,
        "endChar": 67
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "177fb2da_28428518",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 40,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "This is already possible today, as SAML and OAuth plugins shows.",
      "range": {
        "startLine": 39,
        "startChar": 36,
        "endLine": 40,
        "endChar": 9
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "516c4714_8530e66c",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 43,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "This doesn\u0027t look like an acceptance criteria though: why not simply saying \"no regressions are introduced on any existing authentication system\" ?",
      "range": {
        "startLine": 41,
        "startChar": 22,
        "endLine": 43,
        "endChar": 12
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7aacf453_0788fc8b",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "I found useful to add a Glossary section at the beginning, i.e.: https://gerrit.googlesource.com/homepage/+/refs/heads/master/pages/design-docs/instance-id/use-cases.md#glossary",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 2
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf97a443_693e10ca",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "might be worth listing them in here to give a quick overview of what is currently available?",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 4
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f267267c_d7afd8a5",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 56,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "Can you briefly explain what CUSTOM_EXTENSION is?",
      "range": {
        "startLine": 56,
        "startChar": 11,
        "endLine": 56,
        "endChar": 27
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5dc50a1f_b963d726",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 62,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "What you are saying is that the CUSTOM_EXTENSION allows you to handle the auth and some account properties, but that data has to stay in Gerrit and cannot be exported to the a 3rd party system? Did I get it right?",
      "range": {
        "startLine": 59,
        "startChar": 54,
        "endLine": 62,
        "endChar": 7
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f467ee1c_cb7a226e",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 68,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T23:56:58Z",
      "side": 1,
      "message": "Whilst this is useful, it does not showcase how this new AuthBackend can be used to implement an authentication backend that isn\u0027t one of the ones supported in Gerrit today.",
      "range": {
        "startLine": 67,
        "startChar": 43,
        "endLine": 68,
        "endChar": 43
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "166c1cad_d869c905",
        "filename": "pages/design-docs/auth-extensions/use-cases.md",
        "patchSetId": 5
      },
      "lineNbr": 68,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-04-13T08:01:15Z",
      "side": 1,
      "message": "I agree, I think it might be useful to clearly state what it is possible to achieve at the moment with the AuthBackend and what are the limitations.",
      "parentUuid": "f467ee1c_cb7a226e",
      "range": {
        "startLine": 67,
        "startChar": 43,
        "endLine": 68,
        "endChar": 43
      },
      "revId": "2b00d5d0c1160f92e3f817a69685ac0405ed735a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}