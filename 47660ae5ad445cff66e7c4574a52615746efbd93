{
  "comments": [
    {
      "key": {
        "uuid": "0642224d_681a1914",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 12,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "Is this a single JVM process then?",
      "range": {
        "startLine": 12,
        "startChar": 14,
        "endLine": 12,
        "endChar": 42
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c18e484_f96139f6",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 20,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "Can you add a \u0027from\u0027 before the \u0027to\u0027 and specify master or replica? i.e. events are broadcasted from a master instance to all the (master and?) replica instances...",
      "range": {
        "startLine": 19,
        "startChar": 69,
        "endLine": 20,
        "endChar": 2
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6daa86ae_319e758d",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 20,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "I believe this is a multi-master setup, not a master-slave. So no replicas, all masters.",
      "parentUuid": "3c18e484_f96139f6",
      "range": {
        "startLine": 19,
        "startChar": 69,
        "endLine": 20,
        "endChar": 2
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f93ed34_40bffc06",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "Not part of the \"problem\"? (this reads like the AC I think, maybe move it there?)",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 35
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "392b70fd_53868e5a",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "I believe this is the problem that this design wants to address.",
      "parentUuid": "0f93ed34_40bffc06",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 35
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "364e2f8c_08d8a54b",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T21:32:46Z",
      "side": 1,
      "message": "I think we\u0027re disagreeing on what we expect to see as a problem then. \"Adding information to events\" reads as a solution to me, but could maybe an AC depending on the problem definition (I\u0027m thinking that\u0027s less likely based on my comment on line 80).\n\nAFAIK, no user is currently complaining \"I wish I had instance source information in my events!\". It sounds like there are/were admins complaining \"Why is the multi-site/HA plugin constantly triggering reindex for my changes?!?\" That\u0027s a problem/use case I\u0027d expect in a doc like this.",
      "parentUuid": "392b70fd_53868e5a",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 35
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddae1329_856727ca",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:53:01Z",
      "side": 1,
      "message": "\u003e AFAIK, no user is currently complaining \"I wish I had instance source information in my events!\"\n\nThis is what Ponch is targeting. If that is not a cause of concern of your users, it means that the problem is not relevant to your user-base, which is absolutely fine.\n\n\u003e It sounds like there are/were admins complaining \"Why is the multi-site/HA plugin constantly triggering reindex for my changes?!?\"\n\nThat is not the focus of this design, but if you have such complains you are free to write a separate design about that. I would not hijack Ponch\u0027s design for other complains or problems.",
      "parentUuid": "364e2f8c_08d8a54b",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 35
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10a40fa2_7b000e85",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 41,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "This isn\u0027t true if using ElasticSearch or another cluster index solution, correct? I don\u0027t think I\u0027d be \"solving\" your problem if I suggested you use that, so maybe adjust the examples here to ones which don\u0027t already have a solution?",
      "range": {
        "startLine": 41,
        "startChar": 49,
        "endLine": 41,
        "endChar": 87
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aff09092_8c4f557a",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 41,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "ElasticSearch is a single-site indexing solution, it doesn\u0027t work for multi-site. The design is not about multi-site though, the indexing solution is not relevant to the problem. Possibly this section is redundant? It was an example, but from Nasser\u0027s comments I believe it could be misleading? @Nasser what do you think?",
      "parentUuid": "10a40fa2_7b000e85",
      "range": {
        "startLine": 41,
        "startChar": 49,
        "endLine": 41,
        "endChar": 87
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cee69129_99b7290f",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 41,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T21:32:46Z",
      "side": 1,
      "message": "I\u0027m not sure what happens to this section if you incorporate my suggestion on line 80. It could still have use, but it\u0027s hard to say. My biggest concern with this use case doc is that it doesn\u0027t focus on a specific problem. Rewording the doc around the \"avoid loops during reindex\" use case would be much more specific and might make this section unnecessary.",
      "parentUuid": "aff09092_8c4f557a",
      "range": {
        "startLine": 41,
        "startChar": 49,
        "endLine": 41,
        "endChar": 87
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33c97dfe_fb182be2",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 53,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "I don\u0027t think you present enough data to back up this claim. replication is plugin, yet I don\u0027t think we\u0027ve ever had a concern with \"inconsistent\" replication architectures.",
      "range": {
        "startLine": 52,
        "startChar": 65,
        "endLine": 53,
        "endChar": 34
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1eeb967_130d85f5",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 53,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "+1 on removing the \"inconsistent\" word here.",
      "parentUuid": "33c97dfe_fb182be2",
      "range": {
        "startLine": 52,
        "startChar": 65,
        "endLine": 53,
        "endChar": 34
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b3e6830_f9bc7635",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 80,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "I would pick one of these that is the \"biggest\" problem (probably the \"Avoid Loops\" one), and make it the problem on line 17. Right now you have a generic problem and it feels like trying to fit each of these to the problem instead of the other way around. It\u0027d be fine to keep the others as \"related use cases\", but currently it seems you\u0027re insisting these use cases all have the same problem/solution, but that feels artificial. Of course we\u0027d want to consider many use cases when looking at possible solutions, but top priority is to clearly solve at least one problem. The AC then would be worded as what would be required to have solved that single biggest problem.",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 80,
        "endChar": 23
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8091d016_c2a8eaa5",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 80,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "+1 these are \"related use-cases\" and not the primary one, which instead is described in the acceptance criteria.",
      "parentUuid": "5b3e6830_f9bc7635",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 80,
        "endChar": 23
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bb82498_9741f7ae",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 84,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T19:00:35Z",
      "side": 1,
      "message": "I think this is still too specific to a solution. I think your text on lines 25/26 above make a much better AC.",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 24
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcfd5967_bfe78fd1",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 84,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:05:58Z",
      "side": 1,
      "message": "I believe this is the problem that the design wants to takle: understanding who is the sender of an event generated by Gerrit.",
      "parentUuid": "4bb82498_9741f7ae",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 24
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b905ae90_4bc08502",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 84,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-04-21T21:32:46Z",
      "side": 1,
      "message": "I think focusing on that specifically is a solution in search of a problem.\n\nWhat would you consider the AC if the problem was just the Avoid Loops case above? Probably something like: \"Gerrit must provide a way to help ensure re-broadcast/propagated events do not result in an infinite loop\", or if you look even more specifically at the avoiding loops during reindex example, \"Gerrit must provide a way to help ensure an event only triggers a single index action per instance\". That leaves open all kinds of solutions, any of which would be suitable because they solve this problem. Some solutions may be better than others because they also help solve related problems. But then that\u0027s a discussion we can have when evaluating solutions as the use case is good enough to judge fitness for all of them.",
      "parentUuid": "fcfd5967_bfe78fd1",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 24
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f08fbad4_6b349d34",
        "filename": "pages/design-docs/instance-id/use-cases.md",
        "patchSetId": 21
      },
      "lineNbr": 84,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T21:53:01Z",
      "side": 1,
      "message": "From your comments I believe the looping / re-broadcasting, which was an example of the consequences, have been misleading. @Ponch can you remove that part as well?",
      "parentUuid": "b905ae90_4bc08502",
      "range": {
        "startLine": 84,
        "startChar": 2,
        "endLine": 84,
        "endChar": 24
      },
      "revId": "47660ae5ad445cff66e7c4574a52615746efbd93",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}