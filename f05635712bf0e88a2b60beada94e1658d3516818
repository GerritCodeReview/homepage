{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8cf3f023_42f84ba6",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2021-11-30T12:23:25Z",
      "side": 1,
      "message": "I think that it would perhaps be clearer to describe it as:\nProjectCache#evict no longer triggers a reindex.\n\nIf you have relied on a reindex being done on evict you need to use evictAndReindex instead.",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d28c5ad7_b67ab9c4",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-11-30T15:36:04Z",
      "side": 1,
      "message": "+1, with the additional text \"This is consistent with other evict() methods in Gerrit.\"",
      "parentUuid": "8cf3f023_42f84ba6",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfaa6d77_9731e7fb",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-01T20:04:39Z",
      "side": 1,
      "message": "Done. Should we also mention the reason behind the change? I believe that the extra reindexing() calls were negatively impacting the performance as they were made multiple times even when unneeded.",
      "parentUuid": "d28c5ad7_b67ab9c4",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5227c6ec_ecfea7e9",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-12-01T20:18:27Z",
      "side": 1,
      "message": "I think it\u0027d be fine to mention the reindex was duplicate work during offline reindexing of projects. That\u0027s the only case where extra reindexing was seen to be an issue, so there was not a widespread performance enhancement.\n\nMaybe text like this?\n\n  * [Change 323855](https://gerrit-review.googlesource.com/323855) [Change 324115](https://gerrit-review.googlesource.com/324115):\n  ProjectCache#evict no longer triggers a reindex\n\n    During offline project reindexing evict() was triggering a duplicate reindex\n    on the project when we only wanted to evict the project cache entry.\n\n    If you have relied on a reindex being done on evict() you need to use\n    evictAndReindex() instead. This behavior is now consistent with other evict()\n    methods in Gerrit.",
      "parentUuid": "bfaa6d77_9731e7fb",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d1bec61_1ad4b843",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-01T22:40:24Z",
      "side": 1,
      "message": "\u003e I think it\u0027d be fine to mention the reindex was duplicate work during offline reindexing of projects. That\u0027s the only case where extra reindexing was seen to be an issue, so there was not a widespread performance enhancement.\n\nWe saw the issue also with the HA plugin, where it actually created a sort of loop of calls between the two nodes, because of the unwanted reindex operation.\n\nI would say \"During offline project reindexing, and possibly other use from plugins, ...\"",
      "parentUuid": "5227c6ec_ecfea7e9",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad248a46_edfa9ece",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-12-01T23:02:51Z",
      "side": 1,
      "message": "+1. Updated:\n\n * [Change 323855](https://gerrit-review.googlesource.com/323855) [Change 324115](https://gerrit-review.googlesource.com/324115):\n  ProjectCache#evict no longer triggers a reindex\n\n    During offline project reindexing evict() was triggering a duplicate reindex\n    on the project when we only wanted to evict the project cache entry. This same\n    issue occurred with the HA plugin and could be/been present in other plugins.\n\n    If you have relied on a reindex being done on evict() you need to use\n    evictAndReindex() instead. This behavior is now consistent with other evict()\n    methods in Gerrit.",
      "parentUuid": "3d1bec61_1ad4b843",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcc00ed3_e3f4fe9e",
        "filename": "pages/site/releases/3.3.md",
        "patchSetId": 1
      },
      "lineNbr": 528,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-12-01T23:19:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad248a46_edfa9ece",
      "range": {
        "startLine": 524,
        "startChar": 0,
        "endLine": 528,
        "endChar": 81
      },
      "revId": "f05635712bf0e88a2b60beada94e1658d3516818",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}