{
  "comments": [
    {
      "key": {
        "uuid": "f6cee6f0_9eff3de5",
        "filename": "pages/design-docs/global-refdb/solution-1.md",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2019-09-23T15:05:40Z",
      "side": 1,
      "message": "What is missing in this document is an introduction and motivation for a global ref-db.\nI see that this is at least partially discussed in the uses-cases.md but it would be\nbetter if the motivation for this new concept (global ref-db) is discussed and explained\nhere, before the \"Solution\" chapter begins.",
      "revId": "3fa669cb2c630250ab4de9fcefb0f696bfc3b061",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "931f2227_d03ef2c3",
        "filename": "pages/design-docs/global-refdb/solution-1.md",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2019-09-23T08:44:23Z",
      "side": 1,
      "message": "JGit would be the correct place for this IMO. Gerrit\u0027s use of JGit is as simple as calling it\u0027s interfaces. JGit already differentiates between a FileRepository and a DfsRepository. The idea of the Dfs one is that it is distributed to some extent. I think providing your own implementation for a DfsRefDatabase is the way to go. The implementation will be way simpler and more bullet proof because you essentially just provide this one class with a bunch of extra helpers and make sure the biding is correct. You will also avoid any inter-plugin dependency headache.\n\nIf on the other hand, this is implemented as a Gerrit plugin, we\u0027d have to ensure that it is called properly whenever an update is done. So we would create the necessity for calling a plugin endpoint before calling JGit.",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 70,
        "endChar": 89
      },
      "revId": "3fa669cb2c630250ab4de9fcefb0f696bfc3b061",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b8986c2_72cce0a3",
        "filename": "pages/design-docs/global-refdb/solution-1.md",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-09-23T10:38:40Z",
      "side": 1,
      "message": "Hi Patrick, I believe your statement is coming from the Google\u0027s implementation of the global-refdb, correct?\n\nCan Google provide its design to the community (without the implementation, of course) so that we can all implement and benefit from alternative solutions?\n\nI believe Marcin\u0027s effort are great in trying and building something we can all use: having the input from Google and its design would be very helpful.\n\nP.S. Is Google\u0027s global-refdb part of JGit and available as an Eclipse project?",
      "parentUuid": "931f2227_d03ef2c3",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 70,
        "endChar": 89
      },
      "revId": "3fa669cb2c630250ab4de9fcefb0f696bfc3b061",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73bd6177_07c7ae3e",
        "filename": "pages/design-docs/global-refdb/solution-1.md",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2019-09-23T08:44:23Z",
      "side": 1,
      "message": "The fact that we don\u0027t have inter-plugin dependencies present a major drawback for the proposed solution I think. just because there are a handful of plugins that will want to use this functionality.",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 84,
        "endChar": 27
      },
      "revId": "3fa669cb2c630250ab4de9fcefb0f696bfc3b061",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}