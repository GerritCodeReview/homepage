{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0ec08700_2e24cebf",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "Should this be formatted as a numbered list also?\n\n```\n1. Download the new gerrit.war\n2. Stop Gerrit\n3. Run init\n4. Start Gerrit \n```",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 19
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6cfc2949_92f3ce5a",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ec08700_2e24cebf",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 19
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d92814b_4937ec23",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "Move this to \"Schema and index changes\"?\nIt is true for both offline and online upgrades.",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 26,
        "endChar": 8
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f91228a9_e4947d5f",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d92814b_4937ec23",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 26,
        "endChar": 8
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "997a61c1_705a06d1",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "Since it\u0027s an upgrade:\n\n```suggestion\n  java -jar gerrit.war init -d site_path --batch\n```",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 40
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc80a361_35da7446",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "997a61c1_705a06d1",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 40
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a21f4165_8e09469a",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "We (at $DAY_JOB) do offline upgrades but we haven\u0027t run offline reindex once for any of our 3.x upgrades.\nThis step is normally unnecessary and is potentially very time-consuming. I don\u0027t think we should recommend it since it really has no benefits IMO.",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed85f598_2f334fc6",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "\u003e We (at $DAY_JOB) do offline upgrades but we haven\u0027t run offline reindex once for any of our 3.x upgrades.\n\nAck\n\n\u003e This step is normally unnecessary and is potentially very time-consuming. I don\u0027t think we should recommend it since it has no benefits IMO.\n\nInteresting, thanks for sharing.\nI have seen both approaches.\nI have also worked with companies that run offline reindex as their routine upgrade methodology. This is usually a combination of:\n- they can afford short outages.\n- It is not time-consuming for them (low number of changes and/or lots of horsepower on the server).\n\nI agree we shouldn\u0027t recommend it as a preferred option (we don\u0027t), nevertheless, I think we should document it as a viable option.\n\nWhat do you think?",
      "parentUuid": "a21f4165_8e09469a",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f69b5c5_f87d9a0c",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-04-18T16:37:43Z",
      "side": 1,
      "message": "\u003e I agree we shouldn\u0027t recommend it as a preferred option (we don\u0027t), nevertheless, I think we should document it as a viable option.\n\nI think we need to keep it documented as an offline reindex is required if you\u0027re upgrading from more than one release version (i.e. 3.6-\u003e3.8). I think you also want to add that starting version caveat to the \"By default\" statement above (I added a comment on PS2 to that effect).",
      "parentUuid": "ed85f598_2f334fc6",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd2e55e7_c7f2423e",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T19:46:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1f69b5c5_f87d9a0c",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d7315c5_e21bf8ce",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-19T07:43:17Z",
      "side": 1,
      "message": "\u003e I have seen both approaches.\n\nYes off course you can do an offline reindex if you wish, my point is that the end-result will be the same as if you didn\u0027t do it and let online reindex do it\u0027s job. So the only difference is that your downtime is longer if you run reindex, which IMO always is a bad thing ;-)",
      "parentUuid": "fd2e55e7_c7f2423e",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "953668b6_ccdbfbdb",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-19T13:46:01Z",
      "side": 1,
      "message": "Make sense, we now mentioned both so I think we can resolve this.",
      "parentUuid": "5d7315c5_e21bf8ce",
      "range": {
        "startLine": 32,
        "startChar": 1,
        "endLine": 32,
        "endChar": 59
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd8202bc_27162125",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "Wouldn\u0027t this work for Gerrit servers in HA configuration with separate file-systems?",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 7
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de57a862_3fff4ab0",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "By \"HA configuration with separate file-systems\" do you mean multi-site?\n(I am not aware of any other solution that allows this).\n\nI think that might be the case, but we should verify that events get serialized as expected and understood by producers and consumers across different versions, respectively.\n\nI don\u0027t think any formal testing has been done on this.\n\nIs this what you were referring to?",
      "parentUuid": "cd8202bc_27162125",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 7
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ac7b48d_0b4b7e0c",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-19T07:43:17Z",
      "side": 1,
      "message": "\u003e By \"HA configuration with separate file-systems\" do you mean multi-site?\n\nYes.\n\n\u003e (I am not aware of any other solution that allows this).\n\u003e \n\u003e I think that might be the case, but we should verify that events get serialized as expected and understood by producers and consumers across different versions, respectively.\n\u003e \n\u003e I don\u0027t think any formal testing has been done on this.\n\u003e \n\u003e Is this what you were referring to?\n\nYes. I though GerritForge had a multi-site solution and that you ran online upgrades.\nMy question was really \"Is this copy/paste since before a valid multi-site was in place and should also cover multi-site?\"",
      "parentUuid": "de57a862_3fff4ab0",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 7
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f13e0a7_9e83dcdd",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-19T13:46:01Z",
      "side": 1,
      "message": "\u003e \u003e By \"HA configuration with separate file-systems\" do you mean multi-site?\n\u003e \n\u003e Yes.\n\u003e \n\u003e \u003e (I am not aware of any other solution that allows this).\n\u003e \u003e \n\u003e \u003e I think that might be the case, but we should verify that events get serialized as expected and understood by producers and consumers across different versions, respectively.\n\u003e \u003e \n\u003e \u003e I don\u0027t think any formal testing has been done on this.\n\u003e \u003e \n\u003e \u003e Is this what you were referring to?\n\u003e \n\u003e Yes. I though GerritForge had a multi-site solution and that you ran online upgrades.\n\nWe do and this is generally supported as long as the delta between the two versions of Gerrit is 1 version only. There is no automated testing for this, however, and we tend to ensure this only manually for now.\n\n\u003e My question was really \"Is this copy/paste since before a valid multi-site was in place and should also cover multi-site?\"\n\nI think this point is still valid in the sense that, even though the entire Gerrit cluster can still serve traffic, the single site will need an outage, unless the high-availability plugin is installed.\n\n@Luca, thouhgts?",
      "parentUuid": "0ac7b48d_0b4b7e0c",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 7
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b817be74_b28ca945",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-04-19T13:47:23Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "1f13e0a7_9e83dcdd",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 7
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c7e7276_6a9c6b65",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "3.7.2?",
      "range": {
        "startLine": 48,
        "startChar": 32,
        "endLine": 48,
        "endChar": 37
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f10a31f9_b1336283",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c7e7276_6a9c6b65",
      "range": {
        "startLine": 48,
        "startChar": 32,
        "endLine": 48,
        "endChar": 37
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa8535e5_98035631",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1144862
      },
      "writtenOn": "2023-04-18T07:53:12Z",
      "side": 1,
      "message": "```suggestion\n3. Set the Gerrit server to unhealthy.\n```",
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d70dcaa_e3a3471b",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2023-04-18T15:00:48Z",
      "side": 1,
      "message": "`one of the Gerrit servers to`?",
      "range": {
        "startLine": 51,
        "startChar": 7,
        "endLine": 51,
        "endChar": 24
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5f9c8562_95b40800",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8d70dcaa_e3a3471b",
      "range": {
        "startLine": 51,
        "startChar": 7,
        "endLine": 51,
        "endChar": 24
      },
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba646a54_6681b5a8",
        "filename": "pages/site/releases/3.8.md",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-04-18T15:52:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa8535e5_98035631",
      "revId": "b6a295d2420db1fe2f90cbcc3326e25f5f6af02d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}