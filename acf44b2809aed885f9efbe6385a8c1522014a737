{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2d4c2650_d64653d2",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-03-18T22:58:45Z",
      "side": 1,
      "message": "It might be worth clarifying (even if you don\u0027t plan to support them all) that there are at least 5 unreviewable update types:\n\n 1) Branch Creation (ref creation + FF from 0)\n 2) Branch FF\n 3) Branch Rewind\n 4) Branch Rewriting (Rewind + FF)\n 5) Branch Deletion (Rewind to 0 + ref deletion)\nDifferentiating these could help point out the desire to potentially need different permissions for FF and rewind, and that rewrites should probably require both?\n\nFootnote: to have feature parity with git, a 6th one might be nice to have someday:\n  6) Branch renaming  (this is not equivalent to a create + delete since git actually renames the reflog when this happens which helps to preserve the history of the ref).",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f19e2129_04a96001",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Thanks! Differentiating these update types makes a lot of sense. I added them to the doc and clarified which ones we are covering with this design.\n\n\u003e Differentiating these could help point out the desire to potentially\n\u003e need different permissions for FF and rewind, and that rewrites should\n\u003e probably require both?\n\nMakes sense to me, but in the use-cases doc I don\u0027t want to be too specific yet (e.g. whether these should be new permission or whether FF and rewind must be different permissions), but I will keep this in mind for the solution doc. For now I only rephrased the acceptance criteria for this slightly to make it clearer that there are these 3 cases (FF, rewind, rewrite) to be considered.",
      "parentUuid": "2d4c2650_d64653d2",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03747f99_4509557d",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2022-03-21T08:34:55Z",
      "side": 1,
      "message": "s/uses/use/",
      "range": {
        "startLine": 70,
        "startChar": 73,
        "endLine": 70,
        "endChar": 77
      },
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b4e8f7b_adee88f4",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03747f99_4509557d",
      "range": {
        "startLine": 70,
        "startChar": 73,
        "endLine": 70,
        "endChar": 77
      },
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f5bd14d_1c3ae8dd",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 77,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-03-18T15:35:14Z",
      "side": 1,
      "message": "Thinking about the broader picture of a two-person reviewed requirement, I think there\u0027s another important gerrit-specific use case missing, but I think it\u0027s a non-goal in this context. Submodule subscriptions effectively do direct updates and bypass review. A simple solution to that might be to enhance that feature to support creating changes instead of doing direct updates.\n\nSince submodule subscriptions are independent of branch push permissions (as in, I can remove branch push perms and submodule subscriptions continue functioning), I think it\u0027s a non-goal. For that two-person reviewed requirement, it would need a solution.",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29250f93_7c47c58d",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 77,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Yeah, I think this is a non-goal for this design. I added it as such. But it\u0027s an interesting case that we (Google) haven\u0027t discussed yet. It might be that we need to do something about this too. Generating changes for these updates sounds like a good idea.",
      "parentUuid": "8f5bd14d_1c3ae8dd",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59ef39b9_7513fe1b",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 92,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-03-18T22:58:45Z",
      "side": 1,
      "message": "I would favor just making #2 work alone instead.",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd30938c_daeef5ff",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 92,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Yeah, I agree this would be nice. Not sure yet if we will cover this. For now I added it as a nice-to-have use case.",
      "parentUuid": "59ef39b9_7513fe1b",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba6d5436_089e3604",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 110,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-03-18T22:58:45Z",
      "side": 1,
      "message": "By \"the head of the target branch\" do you specifically mean \"the head at upload time of the review of the target branch\"?",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4a82d3b_de8b3eb0",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 110,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Thanks for asking. The idea is that it shows the diff against the head of the target branch at upload time and that the change becomes unsubmittable when this is no longer matching the current head. Means you see the diff against the current head or the change is unsubmittable and needs to be rebased.\n\nClarified this.",
      "parentUuid": "ba6d5436_089e3604",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f88d4cc4_19659af4",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 117,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-03-18T22:58:45Z",
      "side": 1,
      "message": "I would think that it might also be desirable to need special permissions to submit any FF with more than one commit in it as most current users of Gerrit\u0027s workflow do not expect this to be allowed.",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a660730a_0787f73d",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 117,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "Good point. Added this.",
      "parentUuid": "f88d4cc4_19659af4",
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec955e17_5fe775e5",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-03-18T22:58:45Z",
      "side": 1,
      "message": "Even when the changes are based on commits still in the branch?",
      "range": {
        "startLine": 125,
        "startChar": 2,
        "endLine": 125,
        "endChar": 11
      },
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9936448_d71d6d13",
        "filename": "pages/design-docs/push-reviews/use-cases.md",
        "patchSetId": 8
      },
      "lineNbr": 125,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-03-21T11:05:48Z",
      "side": 1,
      "message": "No, only if the base commit has been removed from the history of the target branch.\nThanks for pointing this out. I\u0027ve updated this point.",
      "parentUuid": "ec955e17_5fe775e5",
      "range": {
        "startLine": 125,
        "startChar": 2,
        "endLine": 125,
        "endChar": 11
      },
      "revId": "acf44b2809aed885f9efbe6385a8c1522014a737",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}