{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ab344050_721d9d83",
        "filename": "pages/design-docs/consistency-on-demand/index.md",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-04-21T08:05:23Z",
      "side": 1,
      "message": "update",
      "range": {
        "startLine": 9,
        "startChar": 14,
        "endLine": 9,
        "endChar": 33
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d066b5c3_e587fee4",
        "filename": "pages/design-docs/consistency-on-demand/index.md",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab344050_721d9d83",
      "range": {
        "startLine": 9,
        "startChar": 14,
        "endLine": 9,
        "endChar": 33
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddbba4ca_98defd42",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-04-21T08:05:23Z",
      "side": 1,
      "message": "say something that this is for multi-master deployments.",
      "range": {
        "startLine": 9,
        "startChar": 21,
        "endLine": 9,
        "endChar": 30
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9ca6cb2_7994f812",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ddbba4ca_98defd42",
      "range": {
        "startLine": 9,
        "startChar": 21,
        "endLine": 9,
        "endChar": 30
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b73b382_b60e174e",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-04-21T07:26:57Z",
      "side": 1,
      "message": "... does not cause an inconsistent state that could lead to corrupt releases.",
      "range": {
        "startLine": 12,
        "startChar": 51,
        "endLine": 12,
        "endChar": 59
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a42de5fc_e8eec539",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7b73b382_b60e174e",
      "range": {
        "startLine": 12,
        "startChar": 51,
        "endLine": 12,
        "endChar": 59
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8136bae6_68759bc0",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-21T09:21:17Z",
      "side": 1,
      "message": "nit: handle reliably",
      "range": {
        "startLine": 13,
        "startChar": 3,
        "endLine": 13,
        "endChar": 18
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "358c6aa9_216cf1f1",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "These are both worded as solutions (\"provide\", \"handle\"). Can you describe the use cases please?",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 13,
        "endChar": 73
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "49fe3e3a_920c0c92",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8136bae6_68759bc0",
      "range": {
        "startLine": 13,
        "startChar": 3,
        "endLine": 13,
        "endChar": 18
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "16886406_b743a15d",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done, I rephrased and omitted the solution from the sentence as much as I could.",
      "parentUuid": "358c6aa9_216cf1f1",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 13,
        "endChar": 73
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5b66252_dfb92c9c",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "I\u0027m poking a few specific spots below, but in general this flow seems to assume a lot of reader knowledge about how the multi-primary setup is configured. I think that information should be provided in this doc otherwise it\u0027s going to be very confusing to readers with different multi-primary configurations.\n\nI also think this may be specific to a multi-site setup (probably needs replication between primaries), not multi-primary (probably does not need replication between primaries).",
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fa86cfc_23b0fd32",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "I\u0027ve added a sentence mentioning this is meant for systems with multi-master setup, does it make sense now?",
      "parentUuid": "e5b66252_dfb92c9c",
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cac1e0eb_6e08741b",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-29T15:58:44Z",
      "side": 1,
      "message": "Yes, again, if you mean \u0027multi-site\u0027 (as Luca has commented on).",
      "parentUuid": "2fa86cfc_23b0fd32",
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "951e37a4_92a22ac3",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "You just created it in #1, so do you mean here \"fails if B is not yet known to the primary which receives this command\"?",
      "range": {
        "startLine": 34,
        "startChar": 46,
        "endLine": 34,
        "endChar": 77
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b83c6414_bd034011",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done, rephrased to mention replication.",
      "parentUuid": "951e37a4_92a22ac3",
      "range": {
        "startLine": 34,
        "startChar": 46,
        "endLine": 34,
        "endChar": 77
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "326807ea_326c53fb",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "Did you mean s/apply/set/ [1]?\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#set-topic",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 16
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44707ecd_15c732fd",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "326807ea_326c53fb",
      "range": {
        "startLine": 35,
        "startChar": 3,
        "endLine": 35,
        "endChar": 16
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f507f76_7bab0424",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "Why would voting on a change fail if they don\u0027t have a topic?",
      "range": {
        "startLine": 37,
        "startChar": 10,
        "endLine": 37,
        "endChar": 42
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93c95103_04aa1a11",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "good point, done.",
      "parentUuid": "1f507f76_7bab0424",
      "range": {
        "startLine": 37,
        "startChar": 10,
        "endLine": 37,
        "endChar": 42
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7d426ef_4884c329",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-04-28T09:13:16Z",
      "side": 1,
      "message": "the vote will do a ref transaction, which will generate LOCK_FAILURE against the . I think this may generate a 503 though (my bad.)",
      "parentUuid": "93c95103_04aa1a11",
      "range": {
        "startLine": 37,
        "startChar": 10,
        "endLine": 37,
        "endChar": 42
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b260dd68_7b98f064",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-04-28T09:17:43Z",
      "side": 1,
      "message": ".. against the /meta ref update.",
      "parentUuid": "d7d426ef_4884c329",
      "range": {
        "startLine": 37,
        "startChar": 10,
        "endLine": 37,
        "endChar": 42
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c33fe99_6cf1856e",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T09:31:12Z",
      "side": 1,
      "message": "confirmed it\u0027s 503",
      "parentUuid": "d7d426ef_4884c329",
      "range": {
        "startLine": 37,
        "startChar": 10,
        "endLine": 37,
        "endChar": 42
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f6dc115_acf3374d",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-04-21T14:55:32Z",
      "side": 1,
      "message": "Does this refer to a specific primary\u0027s index or something else?",
      "range": {
        "startLine": 41,
        "startChar": 14,
        "endLine": 41,
        "endChar": 23
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3b3b610_116471e9",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-04-28T08:13:24Z",
      "side": 1,
      "message": "this refers to the ChangeIndex.",
      "parentUuid": "6f6dc115_acf3374d",
      "range": {
        "startLine": 41,
        "startChar": 14,
        "endLine": 41,
        "endChar": 23
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c10f1b77_2ccd586c",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-21T09:21:17Z",
      "side": 1,
      "message": "Can you share more details about the \u0027Consistency-On-Demand\u0027 at Google? It would be beneficial for the discussion of this design document.",
      "range": {
        "startLine": 54,
        "startChar": 47,
        "endLine": 54,
        "endChar": 68
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fb65055_7a4ff0ea",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-04-21T09:25:31Z",
      "side": 1,
      "message": "We can list them in detail under alternatives.",
      "parentUuid": "c10f1b77_2ccd586c",
      "range": {
        "startLine": 54,
        "startChar": 47,
        "endLine": 54,
        "endChar": 68
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad4f7199_7ccbe02c",
        "filename": "pages/design-docs/consistency-on-demand/use-cases.md",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-24T02:19:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6fb65055_7a4ff0ea",
      "range": {
        "startLine": 54,
        "startChar": 47,
        "endLine": 54,
        "endChar": 68
      },
      "revId": "5878f97174cb3cf17a024f9123dc8b8828c8b93d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}