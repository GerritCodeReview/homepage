{
  "comments": [
    {
      "key": {
        "uuid": "1b826631_1644c007",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 6,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T19:47:09Z",
      "side": 1,
      "message": "This seems to only address bullet point #1 in the use-case, what about #2 and #3?",
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c09d645_3df86535",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "if.",
      "range": {
        "startLine": 18,
        "startChar": 17,
        "endLine": 18,
        "endChar": 21
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "452682c5_65ba35c6",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1064086
      },
      "writtenOn": "2019-10-04T20:36:32Z",
      "side": 1,
      "message": "iff \u003d if and only if?\n\nI\u0027m guessing this means that the test(s) will verify that no false positives or negatives will be generated by the access control mechanism.",
      "parentUuid": "6c09d645_3df86535",
      "range": {
        "startLine": 18,
        "startChar": 17,
        "endLine": 18,
        "endChar": 21
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d472edd_66b939bb",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "So, the disadvantage here, is that the tests would rely on the endpoint declare the needed permission. If one required permission is not declared (mistake) then it wouldn\u0027t be tested.",
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d9d8ffb_b0f916e2",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 19,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T19:47:09Z",
      "side": 1,
      "message": "If the endpoint could declare the permissions that it needs, than would it not make more sense to simply add a Gerrit layer that enforces these declarations and to skip testing anything but this layer?",
      "parentUuid": "8d472edd_66b939bb",
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0abd0d24_4268ff33",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "For all? I am not aware, that endpoints define (right now) in declarative way which permissions they need. Or am I missing something? Can you point me to the code?",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 21,
        "endChar": 66
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbcbec2a_8b13347f",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "This is exaggeration and does not refelct the current status of gerrit code base. There are permission tests. The test setup is group based as you pointed out in the begining of this document, and the tests are not automaticly doable right now, because endpoint do not declare their permissions.",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 38,
        "endChar": 50
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d345d22c_fec03ef2",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2019-12-11T17:26:34Z",
      "side": 1,
      "message": "errors are not unheard of, see\n\n  https://gerrit-review.googlesource.com/c/gerrit/+/190214\n\nthis was caught by our internal permission tests.",
      "parentUuid": "bbcbec2a_8b13347f",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 38,
        "endChar": 50
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e40a550_27edef16",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "How/where the learned permission for endpoint will be declared/stored?",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 71,
        "endChar": 50
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd0fb342_a517e03d",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-04T14:37:21Z",
      "side": 1,
      "message": "not needed?",
      "range": {
        "startLine": 86,
        "startChar": 72,
        "endLine": 86,
        "endChar": 76
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e2ba64a_12f825b7",
        "filename": "pages/design-docs/permission-tests/solution-Gal.md",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1064086
      },
      "writtenOn": "2019-10-04T20:36:32Z",
      "side": 1,
      "message": "It looks like the \u0027for\u0027 should be removed instead.\n\n  before checking the permissions for the endpoint\n\nvs\n\n  before checking for permissions for the endpoint",
      "parentUuid": "bd0fb342_a517e03d",
      "range": {
        "startLine": 86,
        "startChar": 72,
        "endLine": 86,
        "endChar": 76
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c0147e1_3c630e08",
        "filename": "pages/design-docs/permission-tests/use-cases.md",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T18:34:59Z",
      "side": 1,
      "message": "Could you clarify what is being referenced here?",
      "range": {
        "startLine": 23,
        "startChar": 45,
        "endLine": 23,
        "endChar": 68
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97a1a25b_a816820c",
        "filename": "pages/design-docs/permission-tests/use-cases.md",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T18:34:59Z",
      "side": 1,
      "message": "\"The developer\"?",
      "range": {
        "startLine": 23,
        "startChar": 70,
        "endLine": 23,
        "endChar": 72
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c33a4f9_ada1d6e5",
        "filename": "pages/design-docs/permission-tests/use-cases.md",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T18:34:59Z",
      "side": 1,
      "message": "same as below?",
      "range": {
        "startLine": 23,
        "startChar": 73,
        "endLine": 23,
        "endChar": 77
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8357f7da_9f12115d",
        "filename": "pages/design-docs/permission-tests/use-cases.md",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2019-10-09T18:34:59Z",
      "side": 1,
      "message": "Maybe you mean \"should only\" here?",
      "range": {
        "startLine": 28,
        "startChar": 18,
        "endLine": 28,
        "endChar": 23
      },
      "revId": "551045b4620fa06ea48431c005139cabcad00827",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}