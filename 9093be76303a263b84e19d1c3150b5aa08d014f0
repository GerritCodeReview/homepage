{
  "comments": [
    {
      "key": {
        "uuid": "07368442_ddaa0279",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 91,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2020-09-04T07:02:14Z",
      "side": 1,
      "message": "Would something like this be more clear?\n\n    ## Java\n    \n    ### Java 11 official language level\n    \n    Gerrit v3.3.x official releases will have Java 11 language level, this means \n    that the officially released gerrit.war won\u0027t start on Java 8.\n    \n    ### Java 8 compatibility\n    \n    *NOTE:This will be the last version with a Java 8 compatible code-base!*\n    \n    Although the official releases will be with Java 11 language level the\n    code-base of stable-3.3 will be validated against both Java 8 and Java 11,\n    thus it will still be possible to build stable-3.3 with Java 8.\n    \n    We are aware that a number of companies still rely on Java 8, we have \n    therefore opted to keep the code-base of stable-3.3 Java 8 compatible.\n    We will however, at some time prior to the release of v3.4, drop Java 8 \n    compatibility on the master branch.",
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7b460d7_1131a14a",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 91,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-04T08:06:31Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "07368442_ddaa0279",
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "388cc330_bbc8c4b4",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-09-03T18:59:32Z",
      "side": 1,
      "message": "This has a confusing message (to me). It sounds like we\u0027re trying to make Java 11 the default, but will continue to support Java 8 on 3.3 and master for the foreseeable future (since we don\u0027t have a timeline for Google or other company migration to Java 11?)?",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c1c69cb_b3f2fb2e",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-03T19:31:43Z",
      "side": 1,
      "message": "\u003e This has a confusing message (to me). \n\nHow do you suggest to amend it? P.S. I believe you have fully understood the message though.\n\n\u003e It sounds like we\u0027re trying to make Java 11 the default,\n\nYes.\n\n\u003e but will continue to support Java 8 on 3.3 and master for the foreseeable future (since we don\u0027t have a timeline for Google or other company migration to Java 11?)?\n\nYes. We (GerritForge) migrated to Java 11 very easily because we are based on OpenJDK, Docker-based deployments and we don\u0027t have any custom build.\nHowever, other companies made different choices, and some of them have their custom JVM and a special build process.\n\nThe message to the community is: \"Hey, Gerrit v3.3 is *released for Java 11*. However, because we know you still have Java 8, you have one more change to still upgrade to v3.3 and rebuild Gerrit by yourself on Java 8\".\n\nI am happy to amend the message in a different way, can you propose something?",
      "parentUuid": "388cc330_bbc8c4b4",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c995eb69_2eea6c4a",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-03T19:34:11Z",
      "side": 1,
      "message": "/you have more change/you have one last chance\n\nThat means, in v3.4, we are fully entitled to remove Java 8 support, as we gave two major releases (v3.2 and v3.3) with support for both JVMs (Java 8 and Java 11) and people would have had enough time to make their changes.\n\nP.S. As a \"last resort option\", everyone has the possibility to run Gerrit on Docker, removing the Java version problem altogether.",
      "parentUuid": "3c1c69cb_b3f2fb2e",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c41220e_f480c789",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-09-03T20:01:00Z",
      "side": 1,
      "message": "Ok, thanks for confirming that I understood it correctly. The confusing part to me was when/if Java 8 is no longer supported and on which branches/releases.\n\nIs it really one last chance? If Google isn\u0027t ready for Java 11+ by 3.4, would we drop Java 8 support? When was Java 11 support first available, 3.2?\n\nFor amendments, maybe s/that means the gerrit.war won\u0027t be able to start on Java 8/that means the prebuilt gerrit.war available on \u003cdownload site\u003e won\u0027t be able to start on Java 8/. And then clarify \"Java 8 will continue to be supported in parallel to Java 11 on v3.3\" and \"There is no change to Java 8 support on 3.1.x and 3.2.x\". Then maybe: \"At some point, hopefully before v3.4, the master branch will drop support for Java 8 (based on Google\u0027s transition timeline)\". (assuming the last bit is true)",
      "parentUuid": "c995eb69_2eea6c4a",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79379c42_5cd7285d",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-03T20:55:15Z",
      "side": 1,
      "message": "\u003e Ok, thanks for confirming that I understood it correctly. The confusing part to me was when/if Java 8 is no longer supported and on which branches/releases.\n\nIn theory, the plan was to drop the support for Java 8 on master. In practice, that is planned but *cannot be done* as yet. I would leave to Patrick/Alice to comment on when the master validation for Java 8 can be dropped, as I do not have visibility on Google\u0027s plans.\n\n\u003e Is it really one last chance? If Google isn\u0027t ready for Java 11+ by 3.4, would we drop Java 8 support? When was Java 11 support first available, 3.2?\n\n@Patrick/@Alice?\n\n\u003e For amendments, maybe s/that means the gerrit.war won\u0027t be able to start on Java 8/that means the prebuilt gerrit.war available on \u003cdownload site\u003e won\u0027t be able to start on Java 8/. \n\nAck.\n\n\u003e And then clarify \"Java 8 will continue to be supported in parallel to Java 11 on v3.3\"\n\nYes and no: we will keep on validating that the code compiles and builds on Java 8, so that *IF* a company wants to continue to use Java 8, they will be able to do it.\n\nHowever, they should not expect the community to make releases v3.3.x with Java 8 language level anymore.\nIn practical terms, the message is: Gerrit v3.3 goes to Java 11 and is released for Java 11 language level only.\n\nWe won\u0027t make two releases (v3.3-java8 and v3.3-java11), at least this is the plan.\n\n\u003e and \"There is no change to Java 8 support on 3.1.x and 3.2.x\".\n\nmaybe \"There is no change to Java 8 support on all existing stable branches?\"\n\n\u003e Then maybe: \"At some point, hopefully before v3.4, the master branch will drop support for Java 8 (based on Google\u0027s transition timeline)\". (assuming the last bit is true)\n\nI would leave @Patrick/@Alice to comment on this and amend accordingly, as I cannot make any commitment on behalf of Google :-)",
      "parentUuid": "8c41220e_f480c789",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3393f7e3_faf419df",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2020-09-03T21:49:16Z",
      "side": 1,
      "message": "Can we make this more explicit and specify which values for javac options -bootclasspath [1] -source [2] -target [3] will be used ?\n\nThe current description looks like it\u0027s aiming for:\n* use javac 11 or higher\n* -bootclasspath \u003cpath to jdk 8\u003e\n* -source 8\n* -target 11\n\nIf bootclasspath and source version aren\u0027t set to 8 we cannot guarantee that 3.3 can be recompiled for java 8.\n\n[1] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-38BC1737-2F22-4288-8DC9-933C37D471AB\n[2] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-B4EE2436-E146-428D-A3CB-E0DAE27BA5B7\n[3] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-89CBDEA1-9FF4-4EA0-AB7D-B418FA2C3DE9",
      "parentUuid": "79379c42_5cd7285d",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "042560fb_1dd621d6",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-03T21:52:16Z",
      "side": 1,
      "message": "\u003e Can we make this more explicit and specify which values for javac options -bootclasspath [1] -source [2] -target [3] will be used ?\n\u003e \n\u003e The current description looks like it\u0027s aiming for:\n\u003e * use javac 11 or higher\n\u003e * -bootclasspath \u003cpath to jdk 8\u003e\n\u003e * -source 8\n\u003e * -target 11\n\u003e \n\u003e If bootclasspath and source version aren\u0027t set to 8 we cannot guarantee that 3.3 can be recompiled for java 8.\n\u003e \n\u003e [1] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-38BC1737-2F22-4288-8DC9-933C37D471AB\n\u003e [2] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-B4EE2436-E146-428D-A3CB-E0DAE27BA5B7\n\u003e [3] https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9__GUID-89CBDEA1-9FF4-4EA0-AB7D-B418FA2C3DE9\n\nDo you believe that must be part of the release plan?\nI believe @DavidO already did a few changes related to the build toolchain. It would be more sensible to comment on those.",
      "parentUuid": "3393f7e3_faf419df",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aeee783e_a9c4c003",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2020-09-03T22:14:44Z",
      "side": 1,
      "message": "Ack, I don\u0027t insist to put that explicitly in the release plan, though I would like to understand if my interpretation matches the intention of this plan.",
      "parentUuid": "042560fb_1dd621d6",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "528e0c5e_2652cd00",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-09-03T22:25:47Z",
      "side": 1,
      "message": "There are two options how to preserve the ability to validate against Java 8:\n\n1. Keep both Java 8 and Java 11 builds (as we have today), but just swap the primary with the secondary, making Java 11 the primary one.\n2. Build on Java 11 only but with the flags you mentioned.\n\nThe 1. is easier and less risky IMHO, but I believe DavidO proposed already a change on 2.\n\nWe can decide which one to approach as we execute the plan, as both would achieve the same results. The 2. is less expensive in terms of resources utilisation, as we need to make the build only once.",
      "parentUuid": "aeee783e_a9c4c003",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "038b2e99_b5c1cfae",
        "filename": "_posts/2020-09-02-gerrit-3.3-release-plan.md",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-09-03T23:50:18Z",
      "side": 1,
      "message": "I do think users/admins are more likely to migrate to Java 11 if that\u0027s all the prebuilt war supports. I also think we should be prepared for pushback on that approach (i.e. lots of \"help\" questions on the list) and perhaps consider offering a Java 8 version side-by-side for 3.3. I don\u0027t know if we have the capability, but we could even track #s of downloads of each.\n\n\u003e maybe \"There is no change to Java 8 support on all existing stable branches?\"\n\nSure!\n\n\u003e I would leave @Patrick/@Alice to comment on this and amend accordingly, as I cannot make any commitment on behalf of Google :-)\n\nAck.",
      "parentUuid": "528e0c5e_2652cd00",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 101,
        "endChar": 11
      },
      "revId": "9093be76303a263b84e19d1c3150b5aa08d014f0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}