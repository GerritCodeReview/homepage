{
  "comments": [
    {
      "key": {
        "uuid": "e94b68f3_70ebed79",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 4,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-10-09T17:35:20Z",
      "side": 1,
      "message": "This is a solution, not a problem. To make it a problem, please describe the use case in which you think sub-checks would be applicable (probably without saying \u0027sub-checks\u0027).",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 4
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "daedfa9c_79d79783",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 4,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-10-22T22:48:10Z",
      "side": 1,
      "message": "I disagree that \"sub-checks\" are a solution.  They are an existing problem in that there are checkers which run multiple units of work as part of a check.  I call them sub-checks here to align terminology with both the current system and prior design discussions around the checks plugin.\n\nPerhaps if I modified the first paragraph of this use-case document to to read as follows, it would be more clear:\n\n  Some checkers may run multiple units of work (some call these \"jobs\",\n  we will call them \"sub-checks\" in this document) as part of a single\n  check.  Users may wish to be able to see the individual results and\n  log links for these units of work as conveniently as they do now with\n  checks themselves.\n\nWould that address your concern?",
      "parentUuid": "e94b68f3_70ebed79",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 4
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57ba2c78_e764e75f",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 4,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-11-21T20:20:10Z",
      "side": 1,
      "message": "\u003e Would that address your concern?\n\nSorry, I didn\u0027t realize how you were using \u0027sub-checks\u0027 here. The wording you suggested greatly helps.",
      "parentUuid": "daedfa9c_79d79783",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 4
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "926ddba5_b8fa1dd2",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 4,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-12-04T17:48:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57ba2c78_e764e75f",
      "range": {
        "startLine": 3,
        "startChar": 0,
        "endLine": 4,
        "endChar": 4
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ca8e318_082a5d1d",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 5,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-11-21T20:20:10Z",
      "side": 1,
      "message": "You say \"related checks\" here, and I\u0027m interested in that. Does this problem include the problem of wanting to have checks that depend on other checks?\n\nFrom what I now know of Zuul (thanks Monty!) and what you have in the background below, I think that use case you have in mind would be a CI system running a single check then providing information about other checks which were not pre-defined. What about the case where you define in advance a sub-check? This is a case we often have at $DAYJOB as for example, there are some checks which are more expensive to run than others and it doesn\u0027t make sense to do them unless \"prerequisite checks\" have completed successfully.",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 5,
        "endChar": 6
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec84ead3_30ddd127",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 5,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-12-04T17:48:05Z",
      "side": 1,
      "message": "Yes, I intend for this to account for any external system which decides what checks to run.  For example, Zuul can use criteria such as branch or files modified to determine that a job is relevant; jobs can then declare that they should only run when others complete; and in particularly complex cases, jobs can run simply for the purpose of deciding what further jobs should be run.  All of that should be accommodated by giving the checker control over what it reports as sub-checks.",
      "parentUuid": "1ca8e318_082a5d1d",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 5,
        "endChar": 6
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df414feb_2189bd4c",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 5,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-12-04T18:57:39Z",
      "side": 1,
      "message": "What about reporting sub-checks that still need to run, to give the user visibility into those pending checks? From the wording in the Acceptance Criteria, it sounds like sub-checks would only be reported post-completion. If you have sub-sub-checks (or some other kind of dependency structure) it could be hours before the top-level check completes and reports any kind of status to the user.",
      "parentUuid": "ec84ead3_30ddd127",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 5,
        "endChar": 6
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a388200_47ed7911",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 5,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-12-04T19:16:00Z",
      "side": 1,
      "message": "Good point.  In the proposed solution, we\u0027ve explicitly stated that sub-checks may be updated multiple times.  I think you\u0027ve made a good argument for describing that as a use-case, and we should indicate that here.  I\u0027ll add that in the next PS.",
      "parentUuid": "df414feb_2189bd4c",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 5,
        "endChar": 6
      },
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01c83e67_6278e635",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-11-21T20:20:10Z",
      "side": 1,
      "message": "This is pretty broad, but maybe that\u0027s your intent? Would any solution meeting this criteria be good enough for you?\n\nAny specific ideas about what \u0027useful\u0027 and \u0027understandable\u0027 would entail?",
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75078470_f3ca22d7",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-12-04T17:48:05Z",
      "side": 1,
      "message": "That\u0027s a good question.  There\u0027s a little bit of text at the bottom suggesting what we would need out of a UI, but it\u0027s not very clear that\u0027s what it is, and in conversation with Ben at GUS, I realized I can supply some more input/requirements based on my own experience with the hacky-javascript UI we have on OpenDev\u0027s current Gerrit.\n\nI\u0027ll make this slightly less vague, but still high-level, and rework the last paragraph to be more clear and add more info.",
      "parentUuid": "01c83e67_6278e635",
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c1c3aef_94cfefde",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2019-12-04T18:57:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "75078470_f3ca22d7",
      "revId": "e158834dcd1636e4813bcc7846bcb4b2fb7d7f34",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}