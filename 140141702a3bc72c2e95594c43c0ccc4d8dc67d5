{
  "comments": [
    {
      "key": {
        "uuid": "0b00ad0c_26cd407c",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-09-05T06:36:10Z",
      "side": 1,
      "message": "In principle it is already possible without introducing yet another level of indirection with sub-check support. Consider this change: [1], with 3 checkers defined (on gerrit stable-2.14 branch):\n\n* Code Style\n* PolyGerrit UI Tests\n* ReviewDb Build/Tests\n\nWhile the latter two checkers always do one specific thing, the first checker: \"Code Style\" does perform multiple code style sub-checks:\n\n* JavaScript lint\n* Java google format check\n* buildifier check for WORKSPACE, BUID and *.bzl files\n\nThe GerritForge CI script implemented in gerrit-ci-scripts repository determines specific for each and every patchset, whether or not a specific sub-check is required or not.\n\nThe reporting across different style-check job (sub-checks) happens in one single output HTML and thus reported only once to the main Code Style checker. So that if in a next patch set of this change JS and/or Java files would be changed, then additional sub-check(s) would be run and reported.\n\nIf at some point we decide to extend the aforementioned check to include also format checks for Shell and Python files, we wouldn\u0027t change anything in Gerrit and Checker definition. Only the code style job would be extended detect change in Shell and Python files and run corresponding scripts. The output file would include the outcome of new sub-checkers as well.\n\n* [1] https://gerrit-review.googlesource.com/c/gerrit/+/235594",
      "range": {
        "startLine": 51,
        "startChar": 32,
        "endLine": 53,
        "endChar": 12
      },
      "revId": "140141702a3bc72c2e95594c43c0ccc4d8dc67d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbaed56a_2286d4f2",
        "filename": "pages/design-docs/plugins/checks/sub-checks/use-cases.md",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1087826
      },
      "writtenOn": "2019-09-05T14:24:16Z",
      "side": 1,
      "message": "Indeed, and we could use that facility in Zuul now (Zuul now has a \"buildset\" page in its web UI, so we could link the single check result to that, and users could follow the link and find all the individual job results).\n\nHowever, there\u0027s an additional desire here, and that is that we reduce the number of times a user has to leave Gerrit to find information about a change.  Many times it is important to see and understand which jobs ran for a change.  For example, in a repo with many jobs configured, only a few of which may run for a given change depending on what files are updated, the user may want to confirm that the expected jobs ran.  In the same way that displaying results, timing information, and a re-run button helps keep the most relevant information and actions related to a change in Gerrit, displaying subchecks will as well.\n\n(I will add this as a clarification to the use-case in the next PS.)",
      "parentUuid": "0b00ad0c_26cd407c",
      "range": {
        "startLine": 51,
        "startChar": 32,
        "endLine": 53,
        "endChar": 12
      },
      "revId": "140141702a3bc72c2e95594c43c0ccc4d8dc67d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}