---
title: "Gerrit 3.6.0 release"
permalink: 3.6.html
hide_sidebar: true
hide_navtoggle: true
toc: true
---

Download: **TBD**

Documentation: **TBD**

## Release highlights

### Submit Requirements

__TODO__

## Important notes

### Schema and index changes

This release doesn't contain schema changes.

The `changes` index version has been increased to version 77. By default the
index is automatically rebuilt upon the Gerrit startup after the
upgrade.

To run offline reindexing of the changes (optional when upgrading from v3.2.x
or later):

```sh
  java -jar gerrit.war reindex --index changes -d site_path
```

### Zero-downtime upgrade

Gerrit v3.6.x supports zero-downtime upgrade from Gerrit v3.2.x or later when
configured using a [high-availability configuration](https://gerrit.googlesource.com/plugins/high-availability/+/refs/heads/master/README.md),
and the Git repositories are stored in a shared filesystem such as NFS or
similar.

During the zero-downtime upgrade, Gerrit end-users would not notice any outage
or service disruption. They will be able to perform any read/write Gerrit
operation on the GUI or using using any API.

The zero-downtime upgrade consists of the following steps:

1. Have Gerrit servers running v3.2.x or later, in high-availability
   configuration, healthy and able to handle the incoming traffic properly.
2. Set the Gerrit server unhealthy.
3. Shutdown the Gerrit server, update gerrit.war and plugins to v3.6.x and start
   Gerrit again.
4. Verify that the Gerrit server is working properly (e.g. run automated smoke
   tests) and then make it healthy again.
5. Wait for the Gerrit server to start serving traffic normally.
6. Repeat steps 2. to 5. for all the other Gerrit servers.

### Breaking changes

* [Project Owners implicit delete reference permission has been removed](https://gerrit-review.googlesource.com/c/gerrit/+/304054).

  Before this release all Project Owners had implicit delete permission to all refs
  unless force-push was blocked for the user.
  Admins that are relying on previous behavior or wish to maintain it for their users
  can simply add the permission explicitly in All-Projects:
  ```ini
    [access "refs/*"]
      delete = Project Owners
  ```
  > **NOTE**:  If you choose to do so, blocking force-push no longer has any effect
  > on permission to delete refs by means other than git (REST, UI).

* Remove diffViewFullyLoaded metric

* Breaking change: apache commons lang v2 is removed

### Other changes

## Plugin changes

* Upgrade to gitiles v1.0.0

## Gerrit UI changes

* Add syntax highlighting for Markdown

* Fix the editing workflow in the web app

* Adding tab navigation for hovercards

* Show gr-change-actions regardless if logged in or not

## Documentation changes

## JGit changes

* Update jgit to stable-5.13

## Other dependency changes

* Update codemirror-minified to 5.65.0

* Update highlight.js to 11.5.0

* Update rules_nodejs version to 4.6.1

* Update rules_go version to 0.30

* Update protobuf version to 3.19.4

## Other core changes

* Fixed missing return type in e2e-tests

* Fix threading issue in diff cache

* Added property project_prefix to e2e-tests

* Added property context_path to e2e-tests

* Added property replica_hostname to e2e-tests

* Added property username to e2e-tests

* Added support for 'is:<VALUE>' in approval copy condition queries to make arbitrary voting values sticky

* Support checking on content modifications with the file operator for submit requirements.

* Include

* Fixed links in Plugin Lifecycle doc and improved its discoverability

* Deprecate the `registerStyleModule()` JS plugin API

* Add support for requesting file diffs with the file operator.

* Add 'distinctvoters' submit requirement predicate

* Add new authoremail:<email_pattern> submit requirement operator

* Support ssh kex server-sig-algs for modern RSA clients

* Fix PUSH options in <gr-rule-editor>

* Added new message:regex search operator

* Update rules_nodejs version to 5.1.0

* Add support for specifying validation options for branch creation

* Add support for querying SR Results using the label operator.

* Adds changes and dashboard link to account hovercard.

* Add support for specifying validation options in Rebase REST endpoint

* Needs to be in 3.6 as it fixes download commands.

* Status field renamed to About me and no icon is shown

* Add support for specifying validation options in Cherry Pick Revision REST endpoint
