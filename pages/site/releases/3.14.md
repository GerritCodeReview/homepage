---
title: "Gerrit 3.14.0"
permalink: 3.14.html
hide_sidebar: true
hide_navtoggle: true
toc: true
---

Download: **[3.14.0](https://gerrit-releases.storage.googleapis.com/gerrit-3.14.0.war)**

Documentation: **[3.14.0](https://gerrit-documentation.storage.googleapis.com/Documentation/3.14.0/index.html)**

## Release highlights

### Introducing the Review Agent

The AI-assisted code review, formerly known as "AI Chat", has been promoted
to a new identity as the "Review Agent" and is enabled by default.

The Review Agent helps to understand, summarize and review a change, through a
convenient chat-like interface in the change screen.

### WebUI Modernization

The WebUI has been improved by removing all the legacy Polymer dependencies
on `paper-` and `iron-` components. The overall user experience is now more
consistent with the new Material Design 3 guidelines.

### REST API for Flows

A new [REST API for flows](/Documentation/rest-api-changes.html#flow-endpoints)
has been added, allowing for programmatic creation, inspection, and deletion
of automation flows on changes.

### Asynchronous change indexing for users

Change indexing for regular users is now asynchronous by default. This means
that the user actions that trigger a reindexing, such as pushing a change or
posting a review, will now return immediately without waiting for the indexing
to complete.

This should improve the user experience, especially on busy servers, as users
will not have to wait for the indexing to complete before they can continue
with their work.

### New `reviewercount` search operator

A new `reviewercount` search operator has been added to the change index,
allowing to search for changes based on the number of reviewers.

Example: `reviewercount:0` will return all changes with no reviewers.

## Important Notes

### Schema and index changes

Gerrit schema version is unchanged.

A full reindex is recommended to populate the new `reviewercount` field in the
change index.

### Offline upgrade

- Stop Gerrit
- Download the new `gerrit.war` and move it to `$GERRIT_SITE/bin`
- Extract all the plugins from `gerrit.war` and move the ones needed into `$GERRIT_SITE/plugins`
- Run the full reindex:
  `java -jar $GERRIT_SITE/bin/gerrit.war reindex -d $GERRIT_SITE`
- Start Gerrit

### Online upgrade with zero-downtime

Gerrit v3.14.x supports zero-downtime upgrade from Gerrit v3.13 when configured
using a
[high-availability](https://gerrit.googlesource.com/plugins/high-availability/+/refs/heads/master/README.md)
setup.

During the zero-downtime upgrade, Gerrit end-users will not experience any
outage or service disruption and will be able to perform any read/write Gerrit
operation seamlessly.

The zero-downtime upgrade process for high-availability setups
consists of the following steps ([demo](https://youtu.be/vK5qsb0W7q4)):

1. Have Gerrit servers running v3.13 in high-availability
   configuration, healthy and able to handle the incoming traffic properly.
2. Set one of the Gerrit servers to unhealthy.
3. Shutdown the Gerrit server, update gerrit.war, plugins and libs to v3.14.x and start Gerrit again.
4. Run the full reindex on the upgraded server:
   `java -jar $GERRIT_SITE/bin/gerrit.war reindex -d $GERRIT_SITE`
5. Verify that the Gerrit server is working properly (e.g. run automated smoke
   tests) and then make it healthy again.
6. Ensure the Gerrit server is fully caught up with the events that happened while
   it was down before directing traffic to it.
7. Repeat steps 2 to 6 for each of the remaining Gerrit servers.


## New Features

* [Change 534881](https://gerrit-review.googlesource.com/c/gerrit/+/534881):
  Add a new REST endpoint `POST /config/indexes/<index>/flush` that allows
  administrators to force flushing pending index updates, ensuring the index
  is up-to-date for maintenance or integration workflows.

* [Change 536961](https://gerrit-review.googlesource.com/c/gerrit/+/536961):
  Add a new `change.addChangeReviewFootersToCommitMessage` configuration flag
  to control whether approval footers (e.g., `Reviewed-by`, `Code-Review+2`)
  are added to the commit message on submit. This can help reduce noise in
  the commit history for projects with many automated voters.

* [Change 520401](https://gerrit-review.googlesource.com/c/gerrit/+/520401),
  [Change 515123](https://gerrit-review.googlesource.com/c/gerrit/+/515123):
  Add new plugin events `BEFORE_COMMIT_MSG_EDIT` and `BEFORE_PUBLISH_EDIT`,
  allowing plugins to add validation hooks before a change's commit message
  is edited and before a change edit is published.

* [Change 518701](https://gerrit-review.googlesource.com/c/gerrit/+/518701):
  Allow configuring the `SameSite` attribute for Gerrit's authentication
  cookie via the `httpd.sameSite` setting in `gerrit.config`.

* [Change 521101](https://gerrit-review.googlesource.com/c/gerrit/+/521101):
  Add a new REST endpoint to get a single revision by its commit ID,
  avoiding the need to fetch all revisions for a change when only one is
  needed.

* [Change 512884](https://gerrit-review.googlesource.com/c/gerrit/+/512884):
  Add new REST endpoints to migrate legacy label functions to submit
  requirements, either directly or by creating a review change for the
  migration.


## Performance improvements

* [Change 540181](https://gerrit-review.googlesource.com/c/gerrit/+/540181):
  Allow caches to register non-primitive key types (e.g. `GeneralProjectName`),
  ensuring correct serialization and deserialization, which is critical for
  cache eviction in multi-site deployments.

* [Change 521681](https://gerrit-review.googlesource.com/c/gerrit/+/521681):
  Introduce an experimental feature to perform change indexing asynchronously
  for non-service users, making operations like 'git push' faster and
  improving UI responsiveness.

* [Change 93f79fbbe3328e184b39b34857b68d6f83034988](https://gerrit-review.googlesource.com/c/gerrit/+/93f79fbbe3328e184b39b34857b68d6f83034988),
  [Change 532084](https://gerrit-review.googlesource.com/c/gerrit/+/532084),
  [Change 93f79fbbe3328e184b39b34857b68d6f83034988](https://gerrit-review.googlesource.com/c/gerrit/+/93f79fbbe3328e184b39b34857b68d6f83034988):
  Add more `TraceTimer`s to core operations to improve performance
  monitoring and diagnostics.

* [Change 534801](https://gerrit-review.googlesource.com/c/gerrit/+/534801):
  Improve performance by skipping the expensive computation of diff stats
  when retrieving submit requirements, as they are not needed for that
  operation.

## Bug fixes

* [Issue 440670261](https://issues.gerritcodereview.com/issues/440670261)
  [Change 517921](https://gerrit-review.googlesource.com/c/gerrit/+/517921):
  The change query REST API now consistently returns `submittable: false`
  for changes that are already merged or abandoned.

* [Change 526661](https://gerrit-review.googlesource.com/c/gerrit/+/526661):
  Add a null check to prevent a `NullPointerException` in
  `DiffUtil.mergeRewrittenModifiedFiles` when processing file modifications.

* [Change 517641](https://gerrit-review.googlesource.com/c/gerrit/+/517641):
  Fix a bug in the access rights screen where deleting a permission rule
  could fail due to incorrect DOM node reuse by the underlying UI framework.

## Frontend changes

* [Change 527486](https://gerrit-review.googlesource.com/c/gerrit/+/527486):
  Complete the removal of all `paper-*` and `iron-*` legacy Polymer
  component dependencies from the project.

* [Change 193daf45bc5333f274a444a7f1a9e7018c66c3c5](https://gerrit-review.googlesource.com/c/gerrit/+/193daf45bc5333f274a444a7f1a9e7018c66c3c5):
  Remove the deprecated `AttributeHelper` Plugin API as part of the Polymer
  removal effort.

* [Change 527161](https://gerrit-review.googlesource.com/c/gerrit/+/527161):
  Remove the legacy and obsolete `gr-css-mixins` styling helpers.

* [Change 523801](https://gerrit-review.googlesource.com/c/gerrit/+/523801),
  [Change 521743](https://gerrit-review.googlesource.com/c/gerrit/+/521743):
  Fix UI display issues on smaller screens where long subject lines in change
  lists and change headers would not wrap correctly and overflow the
  viewable area.

* [Change 526621](https://gerrit-review.googlesource.com/c/gerrit/+/526621):
  Dynamically update the header height using `ResizeObserver`s, allowing for
  more flexible layouts and ensuring components like the Review Agent panel
  are positioned correctly.

* [Change 538743](https://gerrit-review.googlesource.com/c/gerrit/+/538743):
  Ensure that context items from Review Agent splash page actions are
  correctly passed to the chat model, and prevent the page's current context
  (e.g. open file) from being implicitly included.

* [Change 522122](https://gerrit-review.googlesource.com/c/gerrit/+/522122):
  Fix a bug on mobile layouts where the main sidebar would fail to close
  after tapping the account dropdown in the header.

## Documentation changes

* [Change 538741](https://gerrit-review.googlesource.com/c/gerrit/+/538741):
  Document that at Google querying changes uses stale reads for non-service
  users.

* [Change 542021](https://gerrit-review.googlesource.com/c/gerrit/+/542021):
  Document necessity of using `http.saveCookies`.

* [Change 540601](https://gerrit-review.googlesource.com/c/gerrit/+/540601):
  Update labels documentation.

## Plugin changes

* [Change 539661](https://gerrit-review.googlesource.com/c/gerrit/+/539661):
  Roll plugin dependency `@gerritcodereview/typescript-api` to 3.13.0.

## JGit Changes

* Update JGit to [bb309748c](https://gerrit.googlesource.com/gerrit/+/dbc3cc8578).

```shell
  $ git log --oneline --no-merges 010858e24f..bb309748c7
```

Changes included are:
 - 0f71bbab3 DfsPackFileMidx: make the class public
 - e3ec1e57c `[ssh]` Fix order of keys in pubkey auth if an agent is used
 - 008955d57 Update bytebuddy to 1.17.8
 - 87337f302 Update jetty to 12.1.2
 - ed0f86af0 DfsPackCompactor: Move #autoAdd to the tests (its only caller)
 - c29026355 DfsPackFileMidx: add #getAllCoveredPacks() method
 - fab22a4a2 DfsGarbageCollector: handle pack lists with multipack indexes
 - 89823f0f9 DfsPackFileMidx: Return bitmap from any underlying pack
 - 3ec94f2d3 midx: caller chooses the order of packs in the midx
 - dac4c985a DfsObjDatabase: make #setUseMultipackIndex public
 - 6ae972963 MidxPackFilterTest: Remove unused import
 - bbce03704 DfsObjDatabase: move pack mangling to helper MidxPackFilter
 - 2ba761403 Document how to test a release staged in Maven Central Portal
 - 5f38c0af1 DfsMidxWriter: helper class to create a pack with an midx
 - 5b3757ed5 DfsObjDatabase: make useMultipackIndex getter/setter protected
 - acea22570 Update Maven plugins
 - ee5bfa014 DfsObjDatabase: introduce multipack index
 - 18d959f4f Add jgit-4.38 target platform for Eclipse 2025-12
 - 8e9d7ae9b Update jna to 5.18.1
 - 4d5cc0136 Migrate deployment to Maven Central to use Central Portal API
 - 317efecb1 DfsPackFileMidx: getters for the midx covered packs and base
 - 0e2176ecf DfsPackFileMidx: support a chain of multi-pack indexes
 - b2160eb4f DfsPackFileMidx: A packfile using the multipack index
 - 45eb742b6 Checkout: don't fail if no commitish was given
 - ca22260c6 Remove unnecessary else clause
 - dda14deb0 Remove redundant null check
 - cc452d9b1 Remove unused API error filters
 - d1ecb6cac Fix discouraged access warnings
 - 8aa9aa8f0 Fix boxing warnings
 - b70bc5a7f Suppress some boxing warnings
 - d2a6d1063 Suppress some unboxing warnings
 - 72f72fff2 Remove unnecessary semicolon
 - 0795b926b Silence API error for constant CoreConfig.DEFAULT_MULTIPACK_INDEX_ENABLE
 - e1b3e5d63 Update org.mockito:mockito-core to 5.20.0
 - 2bba95d78 Update jetty to 12.1.1
 - 07dc33fb0 Update bouncycastle to 1.82
 - 1ac94c881 Update org.assertj:assertj-core to 3.27.6
 - 665089f0b Update org.apache.commons:commons-lang3 to 3.19.0
 - 99377fc6e Update jna to 5.18.0
 - de78e4d05 Update com.google.code.gson:gson to 2.13.2
 - fc18af059 ConfigConstants: Add constant for multipack index
 - ebc179fa1 Support unshallow request in Boundary/TopoSortGenerators
 - a5a1c87e2 Make UNSHALLOW a globally available static RevFlag
 - 1f4a13450 DfsPackDescription: make covered packs non-null
 - d5b6962cf Disable BOUNDARY and TOPO sort for unshallow fetches
 - 20d9a97cd BasePackWriterTest: Increase test coverage for unshallow fetches
 - 7739cddc4 IndexDiffWithSymlinkTest: Java 20+ stores NFC, not NFD
 - 9a748158b DfsPackDescription: Add fields for multipack index
 - 79483239f BasePackWriterTest: Improve assertion of unexpected items in pack
 - ba38b0c1a BasePackWriterTest: use assertThrows instead of @Test(expected=...)
 - 207f3046c [releng] Bump japicmp base version to 7.4.0.202509020913-r
 - 028565abb BasePackWriterTest: Fix message on pack index content assertion
 - 69b4bb7b5 Add Jenkinsfile to trigger Bazel CI for servlet-4 branch
 - 0e463e66c BasePackWriterTest: Use @expected instead of catching exceptions
 - 15d887625 BasePackWriterTest: Prefer use of Java native sort vs. Collections
 - 953d624b8 Provide specific test for HPE NonStop OSS file system long file names.
 - c7975b456 Prepare 7.5.0-SNAPSHOT builds
 - 797e22b13 Prepare 7.4.1-SNAPSHOT builds
 - 3f5de671a Fix NPE when calling GC.prune(Set<ObjectId>)
 - 78b1ccb45 (tag: v7.4.0.202509020913-r) JGit v7.4.0.202509020913-r
 - 3caa6d233 MultiPackIndex.resolve: handle correctly last object
 - ba209b9ae MultiPackIndexWriter: report also object count and ordered packs
 - 22bbd3db2 MultiPackIndex: add getObjectCount() method
 - 09ad00d21 MultiPackIndex: add findPosition method
 - a9bb14ae4 MultipackIndex.PackOffset: add public static constructor
 - 9d48b26f5 RevWalk: use SystemReader instead of System.getProperty()
 - acd1eff8b PendingGenerator: drop only buffers loaded in the generator
 - 7f9eeb969 Prepare 7.4.0-SNAPSHOT builds
 - 3ce0a6bc8 (tag: v7.4.0.202508261455-rc1) JGit v7.4.0.202508261455-rc1
 - 0ba68dfb0 Update apache sshd to 2.16.0
 - 8fd4cf3de Do not include 3rd party dependencies in features
 - e109bad94 Ensure pack files are closed after git.close()
 - 38aaf90f9 Prepare 7.4.0-SNAPSHOT builds
 - cad966d95 (tag: v7.4.0.202508191000-m3) JGit v7.4.0.202508191000-m3
 - 7e2935241 Update mockito to 5.19.0
 - bcbb2d6ce Update jetty to 12.1.0
 - 9b0bbd744 Update org.assertj:assertj-core to 3.27.4
 - deefd465a Update bytebuddy to 1.17.7
 - 610d7e191 util.Iterators: suppress warning about object arrays
 - 93e87dfc7 util.Iterators: private constructor for utility class
 - 901b651ec pgm: new command for the object size index
 - 2b64b5c6f WindowCursor: honor pack.useObjectSizeIndex
 - 6ebd2f5d7 Prevent CommitGraphWriter.write() from closing its stream
 - 1c0df9426 Make CancellableDigestOutputStream extend FilterOutputStream
 - 5155683dc Shortcut PackWriter reuse selection when possible
 - 0a32120fa Update org.apache.commons:commons-compress to 1.28.0
 - a762badfc SmartHttpFetchConnection: suppress errors on close()
 - 01123ee70 Mark Git(Repository repo, boolean closeRepo) public
 - ee304e465 Use volatiles for bitmap and revIndex in Pack
 - 37d1a65f0 Fix performance regression in Pack.idx()
 - 3a89c4e49 Don't use Yoda style conditions to improve readability
 - 0efc9c367 Use LocalObjectToPack representation more
 - d9aba160b Use representation from LocalObjectToPack if possible
 - 6c8d6e299 Avoid conditional in LocalObjectRepresentation.wasDeltaAttempted
 - d9de5e619 Prepare 7.4.0-SNAPSHOT builds
 - ee0b62d24 Update commons-lang3 to 3.18.0
 - 0962202b2 Update commons-io to 2.20.0
 - 16554a89d Update commons-codec to 1.19.0
 - fb6b24142 (tag: v7.4.0.202507290921-m2) JGit v7.4.0.202507290921-m2
 - e02e00109 Add 4.37 target platform for Eclipse IDE 2025-09
 - ca6d673d5 Use chunked encoding when uploading LFS objects
 - 154032c2b Add Bundle-SCM header to OSGi manifests
 - c86cdcb96 WindowCursor: Use the object size index when possible
 - a673f022a GC: Write object size index if config says so
 - b0e06f3b0 MergeToolTest: update expected error from the tool
 - 160b81c0b Add dash license check for 3rd party dependencies
 - d9ac2f31e ObjectDirectoryPackParser: Write object-size index with the pack
 - 8929300aa PackInserter: write object-size index with the pack
 - 427af1262 Pack: getter for the indexed object size (when available)
 - 8ab3e5324 Prepare 5.13.5-SNAPSHOT builds
 - 85c14b4da (tag: v5.13.4.202507202350-r) JGit v5.13.4.202507202350-r
 - 896d07370 AmazonS3: Do not accept DOCTYPE and entities
 - 8d30b5a75 ManifestParser: Do not accept DOCTYPE and entities
 - 518cc54f8 AdvertisedRequestValidator: fix WantNotValidException caused by race
 - 0d835f824 Prepare 5.13.4-SNAPSHOT builds
 - 36fef211d Fix packaging build
 - 918fdd774 [releng] Fix maven builds on JVM 21 and with newer git on MacOS

## Other dependency changes

* Update Bazel to [7.6.1](https://gerrit.googlesource.com/gerrit/+/cc9015f84e)
* Update commons-io to [2.20.0](https://gerrit.googlesource.com/gerrit/+/9b8f4bd1e8)
* Update dropwizard-core to [4.2.37](https://gerrit.googlesource.com/gerrit/+/80a782fa03)

## Community

### Welcome to our new contributors

Welcome to the new contributors that had their first patch merged in 3.14.0:

 * Jussi Karhu
 * Kenyon Ralph
 * Manuel Stahl
 * Marco Soeima
 * Piotr Szlazak
 * Robert DAZI
 * Wyatt Hepler

Thank you for your contributions!