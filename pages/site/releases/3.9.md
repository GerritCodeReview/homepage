
---
title: "Gerrit 3.9.0"
permalink: 3.9.html
hide_sidebar: true
hide_navtoggle: true
toc: true
---

Download: **[3.9.0-rc3](https://gerrit-releases.storage.googleapis.com/gerrit-3.9.0-rc3.war)**

Documentation: **[3.9.0-rc3](http://gerrit-documentation.storage.googleapis.com/Documentation/3.9.0/index.html)**

## Release highlights

### Java 17

The language level used for Gerrit source code stays on Java 11, however,
Gerrit is built and distributed for Java 17, which is the recommended JVM
version for running it in production.

### New stream events

**batch-refupdate**

Gerrit notifies all the refs of a single batch-refupdate as a single stream
event JSON payload. The new event is controlled by configuration and can be
switched off for backward compatibility with legacy CI/CD systems.

**ref-update** for draft-comments

Gerrit generates the ref-update event for all the additions and removals of
draft comments in the `All-Users` project. This is needed for replicating the
`All-Users` project across sites, thanks to the replication plugins being
notified of the updates.

### New limits

There are new limit definitions which can be used to protect Gerrit from
improper client activity.

- `change.topicLimit`: defines the maximum number of changes in the same
  topic.

- `change.maxFileSizeDownload`: prevents memory overload caused by clients
  downloading large files from REST-API.

- `change.maxFileSizeDiff`: prevents memory overload caused by rendering
  large files diffs in a browser.

### New diff3 view

A new `change.diff3ConflictView` option allows to enable a richer diff3
rendering of changes with conflict markers.

### Attention-set improvements

Gerrit can return changes to the original attention set assignment if any
of the new assignees do not provide feedback within a specific time.
The behaviour is controlled by two new settings, `attentionSet.readdAfter`
and `attentionSet.readdMessage`.

### Indexing improvements

Allow to limit the queries that do not specify a default limit and also
can now reindex changes with an asynchronous process when a change is updated
from the UI, controlled by the `index.indexChangesAsync`.

The new option yields a much more responsive user-experience by releasing
UI elements without waiting for the backend reindex execution to complete.

### Account deletion

Users can now delete their own account, making it possible to be forgotten
by the Gerrit Code Review platform. Please note that existing commits in
the projects will stay and the account's e-mail stored in Git commits
will be preserved beyond account deletion.

### Plugin development

#### Custom key/value pairs stored in NoteDb

Plugins may store additional string key/value pairs to change notes in NoteDb.

#### Cross-plugin communication and dependency

Plugins can communicate and declare dependencies to other plugins thanks to the
introduction of
[`Gerrit-ApiModule`](https://gerrit-documentation.storage.googleapis.com/Documentation/3.9.0/dev-plugins.html#_cross_plugin_communication)
Guice modules in plugin manifest.

## Important notes

### Schema and index changes

This release doesn't contain schema changes.

The `changes` index version has been increased to version _85_.

### Online index schema upgrade from 3.8

By default, if you're upgrading from 3.8, the index is automatically
rebuilt upon Gerrit startup after the upgrade.

If you're upgrading from 3.7 or an earlier version, you must use the
Offline upgrade steps below.

### Offline upgrade

1. Download the new gerrit.war
2. Stop Gerrit
3. Ensure all installed plugins are compatible with the new API
4. Run init

```sh
  java -jar gerrit.war init -d site_path --batch
```

5. Reindex

  * If you are upgrading from a 3.8 version you don't need to run reindex (see
    `Online index schema upgrade from 3.8` above). If you still want to you will
    only need to run reindex of `changes`:

      ```sh
      java -jar gerrit.war reindex --index changes -d site_path
      ```

   * If you are upgrading from a 3.7 version, or an earlier version, you must
     run a reindex of all indexes:

      ```sh
      java -jar gerrit.war reindex -d site_path
      ```

See
the [reindex](https://gerrit-documentation.storage.googleapis.com/Documentation/3.9.0/pgm-reindex.html)
program for other options.

6. Start Gerrit

### Online upgrade with zero-downtime

Gerrit v3.9.x supports zero-downtime upgrade from Gerrit v3.8.2 or later when
configured using a [high-availability configuration](https://gerrit.googlesource.com/plugins/high-availability/+/refs/heads/master/README.md),
and the Git repositories are stored in a shared filesystem such as NFS or
similar.

During the zero-downtime upgrade, Gerrit end-users would not notice any outage
or service disruption. They will be able to perform any read/write Gerrit
operation on the GUI or using any API.

The zero-downtime upgrade consists of the following steps:

1. Have Gerrit servers running v3.8.2 or later, in high-availability
   configuration, healthy and able to handle the incoming traffic properly.
2. Set `gerrit.experimentalRollingUpgrade` to `true` in `gerrit.config` on both Gerrit primaries.
3. Set one of the Gerrit servers to unhealthy.
4. Shutdown the Gerrit server, update gerrit.war and plugins to v3.9.x and start
   Gerrit again.
5. Verify that the Gerrit server is working properly (e.g. run automated smoke
   tests) and then make it healthy again.
6. Wait for the Gerrit server to start serving traffic normally.
7. Repeat steps 3. to 6. for all the other Gerrit servers.
8. Remove `gerrit.experimentalRollingUpgrade` from `gerrit.config` on both Gerrit primaries.

### Downgrade

Downgrade to any Gerrit v3.8.x release is possible, but requires the
following manual steps:

1. Shutdown all migrated Gerrit v3.8.x servers
2. Update the gerrit.war and plugins to the previous v3.8.x version
3. Run offline change reindexing using the previous gerrit.war version

```sh
  java -jar gerrit.war init -d site_path --batch
  java -jar gerrit.war reindex --index changes -d site_path
```

4. Startup Gerrit server

### Native packaging

### Breaking changes

* [Change 392534](https://gerrit-review.googlesource.com/392534)
  Return approver/rejector for a label if DETAILED_LABELS is passed

* [Change 369234](https://gerrit-review.googlesource.com/369234)
  Return 400 BAD_REQUEST when a reviewer cannot be added by email

  When trying to add a user that cannot be added as a reviewer
  on a change, the API was returning a 200 Status Code with an
  error message.

* [Change 379475](https://gerrit-review.googlesource.com/379475)
  Don't call Java gc explicitly, remove --gc option from show-caches ssh command
  and REST API /config/server/summary

* [Change 378638](https://gerrit-review.googlesource.com/378638)
  Remove ChangeJson::stars field (starred field remains)

  Remove the `stars` field from the `ChangeInfo` response. You should check
  whether you were relying on this field when using any REST endpoint returning
  `ChangeInfo`.

* [Change 373780](https://gerrit-review.googlesource.com/373780)
  removed perfMetrics

  The metrics have performance [issues](https://crbug.com/gerrit/40014513).

* [Change 371198](https://gerrit-review.googlesource.com/371198)
  Add option to populate 'starred' field for change queries

  `star` option can must now be provided to include the `starred` field in
  `ChangeInfo`, which indicates if the change is starred by the current user or
  not.

### Other changes

* [Change 392517](https://gerrit-review.googlesource.com/392517):
Added 'm' alias for the 'message' operator

* [Change 392515](https://gerrit-review.googlesource.com/392515)
Groups Audit Log API - Gerrit now parses all commits in refs/groups/... branch

* [Change 392514](https://gerrit-review.googlesource.com/392514)
Support tracing requests that match a header

  Gerrit supports tracing requests that match a configured trace configuration.
  With this change we add a new parameter to the tracing configuration that
  allows matching requests by a header. E.g. this allows matching requests that
  are sent with a certain user agent (e.g. headerPattern = User-Agent=foo-.*).

* [Change 392518](https://gerrit-review.googlesource.com/392518)
Change .scl files to be highlighted as python

* [Change 392175](https://gerrit-review.googlesource.com/392175)
Reviewer's votes are not restored back after the reviewer is deleted and added back

  When a reviewer votes for the patchset and then the reviewer is removed,
  gerrit removes votes from this reviewer too. However if the reviewer is
  added back (to the same patchset) previous votes are restored back.

  This change ensures that after a reviewer is deleted, all votes from
  this reviewer are permanently removed.

* [Change 390897](https://gerrit-review.googlesource.com/390897)
Option to skip projects during change reindexing

  Introduce `index.excludeProjectFromChangeReindex`: A list of projects that
  will be excluded from reindexing. This can be used to exclude projects which
  are expensive to reindex to prioritize the other projects.

* [Change 390895](https://gerrit-review.googlesource.com/390895)
The revert UI now defaults to Revert^2 instead of "Revert "Revert "..."

* [Change 390614](https://gerrit-review.googlesource.com/390614)
Users can now upload changes to group refs except changes to group files

* [Change 299472](https://gerrit-review.googlesource.com/299472)
Enable cross communication between plugins through declared API modules

* [Change 389115](https://gerrit-review.googlesource.com/389115)
Improved error message when change cannot be submitted due to a missing dependency

* [Change 388914](https://gerrit-review.googlesource.com/388914)
Changing preferred email does not result in duplicate email

* [Change 368335](https://gerrit-review.googlesource.com/368335)
Rebase can be performed with a secondary email using REST API

* [Change 388336](https://gerrit-review.googlesource.com/388336)
Added 'description', 'd' aliases for the 'message' operator

* [Change 388554](https://gerrit-review.googlesource.com/388554)
committer_email field is removed from topic cherry-pick payload

* [Change 388054](https://gerrit-review.googlesource.com/388054)
Eliminated startup warning for plugins whose SshModule only provides Ssh*CommandInterceptors

* [Change 387435](https://gerrit-review.googlesource.com/387435)
refreshAfterWrite and maxAge settings in gerrit config are now honored for both persistent and in-memory caches

* [Change 387217](https://gerrit-review.googlesource.com/387217)
Fixed case where an exception in change visibility checking could break visibility of all refs in that repo

* [Change 377154](https://gerrit-review.googlesource.com/377154)
REST API supports cherry-pick using a registered secondary email

* [Change 387055](https://gerrit-review.googlesource.com/387055)
SSH set-topic cmd is fixed to consider edit topic permission

* [Change 387103](https://gerrit-review.googlesource.com/387103)
Avoid NullPointerException when deleting a single ref

* [Change 387216](https://gerrit-review.googlesource.com/387216)
Fixed potential OOM due to SubmitRuleEvaluator creating new metrics whenever an instance was created

* [Change 387017](https://gerrit-review.googlesource.com/387017)
Fix NPE when auth.httpDisplaynameHeader is configured but header is unset

* [Change 387054](https://gerrit-review.googlesource.com/387054)
'force topic edit' permission is fixed to work with change owner rule

* [Change 386976](https://gerrit-review.googlesource.com/386976)
Fixed potential OOM due to *QueryProcessor classes creating new metrics whenever an instance was provided

* [Change 386974](https://gerrit-review.googlesource.com/386974)
SSH set-reviewers cmd now handles lock failures with retries

* [Change 386994](https://gerrit-review.googlesource.com/386994)
Fixed InactiveAccountDisconnector NPE due to race condition

* [Change 385714](https://gerrit-review.googlesource.com/385714)
Make Draft Comment events publishing configurable

* [Change 382819](https://gerrit-review.googlesource.com/382819)
Send ref-updated events on draft operations

* [Change 386777](https://gerrit-review.googlesource.com/386777)
Allow modules to provide different logic for the HTTP canonicalWebUrl

* [Change 383334](https://gerrit-review.googlesource.com/383334)
Allow to set instance ID from java system property

* [Change 385556](https://gerrit-review.googlesource.com/385556)
Allow pagination using continuation token for 'list branches'

* [Issue 295457464](https://crbug.com/gerrit/295457464)
SSH queries now show copied approvals on respective patch-sets

* [Change 383955](https://gerrit-review.googlesource.com/383955)
allow SubmitRequirement errors to be HTTP 500 errors

* [Change 384096](https://gerrit-review.googlesource.com/384096)
Exposed default branch in GerritInfo

* [Issue 296889346](https://crbug.com/gerrit/296889346)
Added placeholder text for "Default Branch" field in the create repo wizard

* [Change 383034](https://gerrit-review.googlesource.com/383034)
List/Query projects: Set flag in last returned project when result is limited

  If the number of projects matching a query exceeds either the internal
  limit or a supplied 'limit' query parameter, the last project object has
  a '_more_projects: true' JSON field set now.

* [Change 379154](https://gerrit-review.googlesource.com/379154)
New patch sets will prefer the previous patch set's committer email

  If one of the user's secondary emails was used as the committer email in
  previous patchset, continue using it instead of preferred email.

* [Change 382557](https://gerrit-review.googlesource.com/382557)
Added support for searching projects by substring

  The new `substring:SUBSTRING` predicate matches projects that have a name
  that contains `SUBSTRING` (case-insensitive).

* [Change 382295](https://gerrit-review.googlesource.com/382295)
Added support for querying projects by prefix.

  the new `prefix:PREFIX` predicate matches projects that have a name that
  starts with `PREFIX`.

* [Change 381915](https://gerrit-review.googlesource.com/381915)
Added support for matching all project by an empty project query

* [Change 382258](https://gerrit-review.googlesource.com/382258)
Fixed setting parent field in project index for direct children of All-Projects

* [Change 381595](https://gerrit-review.googlesource.com/381595)
Add a new `change.maxFileSizeDownload` config option

* [Change 381594](https://gerrit-review.googlesource.com/381594)
added param to /review API

  Allow specifying formatting options with /review

* [Change 381055](https://gerrit-review.googlesource.com/381055)
Add a `topicLimit` server config and validate topic size

  Add `change.topicLimit` config in `gerrit.config` to specify the maximum
  allowed number of changes with the same topic

* [Change 380914](https://gerrit-review.googlesource.com/380914)
Fixed NPE when submitting changes

* [Change 380916](https://gerrit-review.googlesource.com/380916)
Ensure ThreadMXBeanSun only reports allocated bytes if supported by JVM

* [Change 379054](https://gerrit-review.googlesource.com/379054)
Fixed create merge patch-set API to use identity of caller as committer

* [Change 380314](https://gerrit-review.googlesource.com/380314)
Named queries are now supported on group refs

  You can now use `group` with the `query` predicate: `query:group="GROUP"`

* [Change 379714](https://gerrit-review.googlesource.com/379714)
Named destinations are now supported on group refs

  You can now use `group` with the `destination`
  predicate: `destination:group="GROUP"`

* [Change 379513](https://gerrit-review.googlesource.com/379513)
Add field to change index, requires schema upgrade

* [Change 378999](https://gerrit-review.googlesource.com/37899)
Fail 'Get Diff' requests for file sizes that exceed 50Mb

* [Change 378899](https://gerrit-review.googlesource.com/378899)
ApplyPatch: Do not fail with 500 ISE if no patch is provided

* [Issue 40015567](https://crbug.com/gerrit/40015567)
Add BatchRefUpdateEvent to stream events

  Add new event type `batch-ref-updated` which represents
  BatchRefUpdateEvent class and emit these new events via stream
  events bus. This allows event listeners to react on a group
  of refs updated together.

* [Change 378535](https://gerrit-review.googlesource.com/378535)
Added config option that allows to disable change ID link footers

  Introduce the `receive.enableChangeIdLinkFooters` configuration to enables a
  `Link` footer to be used as an alternative `Change-Id` footer.

* [Change 376877](https://gerrit-review.googlesource.com/376877)
Add a new `parents_data` field in `RevisionInfo`

  The new field is a list of ParentInfo entities and provides more information
  about the parent commit of the patch-set.

* [Change 377174](https://gerrit-review.googlesource.com/377174)
Add `branch` as a new field in `RevisionInfo`

  The name of the target branch that this revision is set to be merged into.

* [Change 375155](https://gerrit-review.googlesource.com/375155)
Fix GetRelated if multiple changes for the same commit exist

* [Change 356465](https://gerrit-review.googlesource.com/356465)
  Add API method for deleting self account

* [Change 375434](https://gerrit-review.googlesource.com/375434)
Remove feature flag for User Suggest Edits

* [Change 374995](https://gerrit-review.googlesource.com/374995)
Adding GET and POST requests for custom_keyed_values

* [Change 374695](https://gerrit-review.googlesource.com/374695)
Add verbose version output

  provide noteDb and index versions, in addition to the Gerrit version

* [Change 373997](https://gerrit-review.googlesource.com/373997)
  Return 500 when a request is canceled due to an exceeded server deadline

* [Change 372694](https://gerrit-review.googlesource.com/372694)
Added APIs to set/get custom keyed-value change metadata

* [Change 373854](https://gerrit-review.googlesource.com/373854)
The commit-msg hook now detects existing Link trailers.

  An additional `$` was making detection of Link trailers to fail, causing Link
  trailers to repeatedly be added when amending a commit.

* [Change 370194](https://gerrit-review.googlesource.com/370194)
Add merge strategy to rebase REST API

  The strategy of the merge, can be `recursive`, `resolve`,
  `simple-two-way-in-core`, `ours` or `theirs`, default will use project
  settings.

* [Change 362774](https://gerrit-review.googlesource.com/362774)
Adds a new footer for changes for key-value storage.

  These can be used to store metadata on a change. The format on the
  change-message is for a given `<key>` `<value>`
  is: `Custom-Values: <key>=<value>`

* [Issue 40015204](https://crbug.com/gerrit/40015204)
Added periodic job that readds change owners to inactive

  This makes it possible to configure Gerrit to automatically readd the
  change owner to the attention-set for open non-WIP/private changes
  that have not had any activity for a specified amount of time.

* [Change 366776](https://gerrit-review.googlesource.com/366776)
Provide change number to patch set link plugins

## Test framework changes

* [Change 392474](https://gerrit-review.googlesource.com/392474)
  Add session support in FakeHttpServletRequest for tests

* [Change 392454](https://gerrit-review.googlesource.com/392454)
  Include HTTP testutil package in the Gerrit acceptance framework

* [Change 392455](https://gerrit-review.googlesource.com/392455)
  Fix FakeHttpServletRequest getRequestURI() returning query string

* [Change 385115](https://gerrit-review.googlesource.com/385115)
Fixed updating and publishing draft comment on old patch set

## Plugin changes

## Performance changes

* [Issue 309849905](https://crbug.com/gerrit/309849905):
Account external IDs are updated in a single commit

* [Change 390919](https://gerrit-review.googlesource.com/390919)
Skip already reindexed changes during reindexing

  During online reindexing after an upgrade, all changes were reindexed,
  even if they were already present in the new index. If the Gerrit
  instance was restarted before the index was ready, this caused a lot
  of repeated indexing.

  Now, changes that are already present in the newest index version
  won't be reindexed anymore. However, they will still be checked
  for staleness and reindexed if necessary.

* [Change 376094](https://gerrit-review.googlesource.com/376094)
Add cache to speedup ref advertisements (particularly on replicas) and receive-pack

* [Change 224772](https://gerrit-review.googlesource.com/224772)
Reduced memory and storage needs for TagSet

* [Change 377814](https://gerrit-review.googlesource.com/377814)
Bloom filters are no longer built during offline reindex

* [Change 380594](https://gerrit-review.googlesource.com/380594)
Reduced memory and storage needs for TagSet by using RoaringBitmaps

## Gerrit UI changes

* [Change 389894](https://gerrit-review.googlesource.com/389894)
Track diff page sidebar state as a user preference

* [Change 389700](https://gerrit-review.googlesource.com/389700)
Add a user preference for sidebar on the diff page

* [Change 376934](https://gerrit-review.googlesource.com/376934)
Rebase can be performed using a secondary email via UI

  updates the UI to show a list of relevant emails to choose from when rebasing
  a change.

* [Issue 303075739](https://crbug.com/gerrit/303075739)
New frontend extension point: auth-link

* [Change 387695](https://gerrit-review.googlesource.com/387695)
Show diff as User Suggested Edit Preview instead of code block

* [Issue 301481564](https://crbug.com/gerrit/301481564)
Fix the repository configuration loading and rendering when switching tabs

* [Change 382894](https://gerrit-review.googlesource.com/382894)
Add diff3 formatter for merge conflicts.

  Add the ability to show the merge conflicts in the diff3 format.
  This feature is controlled by core.diff3ConflictView in the
  gerrit.config

* [Change 382555](https://gerrit-review.googlesource.com/382555)
Introduce "showdiff" plugin event

  Any listeners are notified any time a diff is shown on the screen.

* [Change 379095](https://gerrit-review.googlesource.com/379095)
Add diff page sidebar for plugins

* [Change 378634](https://gerrit-review.googlesource.com/378634)
Experimental plugin endpoint for diff hover events

* [Change 378436](https://gerrit-review.googlesource.com/378436)
Fix copying Change-Id in dropdown

* [Change 373477](https://gerrit-review.googlesource.com/373477)
Fire `SHOW_CHANGE` event to plugins from diff page

## Documentation changes

* [Change 390454](https://gerrit-review.googlesource.com/390454)
Document gerrit set-head` SSH command and fix old UI references

* [Change 388936](https://gerrit-review.googlesource.com/388936)
Explain in ls-projects SSH API when the "parent" field is "?-N"

* [Change 388936](https://gerrit-review.googlesource.com/388530)
Explain in /projects/ REST API when the "parent" field is "?-N"

* [Change 387736](https://gerrit-review.googlesource.com/387736)
Be more explicit about using Bazelisk in dev docs

* [Change 382794](https://gerrit-review.googlesource.com/382794)
update blurb for ldap.accountFullName

* [Change 378794](https://gerrit-review.googlesource.com/378794)
add missing asterisk escape in `intro-project-owner` documentation

* [Change 378094](https://gerrit-review.googlesource.com/378094)
Add example for GerritSiteHeader.html

* [Change 377914](https://gerrit-review.googlesource.com/377914)
Adjust asterisk escape in access-control documentation

* [Change 372854](https://gerrit-review.googlesource.com/372854)
Add example to blurb for ldap.mandatoryGroup

## JGit changes

* [Change 387495](https://gerrit-review.googlesource.com/387495)
Bump JGit version to b6b1e0a0a.
  You can retrieve the full list of changes with:

  ```shell
  git log --no-merges --format=oneline 74fa245b3c3ccf13afcbec7911c7c8459e48527d..b6b1e0a0adda605f7a62c915d1aef606b961e36f
  ```

  notable changes are:

  * b6b1e0a0a Fix DefaultCharset bug pattern flagged by error prone
  * a2bce029a WorkingTreeIterator: directly filter input stream
  * 136b8953e Update jetty to 10.0.16
  * ff10cd2d8 Update bazel to 6.3.2
  * 290902d9f Update org.eclipse.jdt:ecj to 3.35.0
  * 12e9c3f1f Update org.apache.commons:commons-compress to 1.24.0
  * 8d62e5d04 Update bytebuddy to 1.14.8
  * 642f16023 Use ShutdownHook to gracefully handle JVM shutdown
  * d4d6c2b5a Add ShutdownHook to cleanup FileLocks on graceful JVM shutdown
  * f94be665f Unregister ShutdownHook when GC#PidLock is closed
  * e3798df6e OSGi: move plugin localization to subdirectory
  * 82c6638c7 RevertCommand: support for inserting a Gerrit change ID
  * 7baa5a157 DfsPackFile: Record index loads only in one place
  * 30427485d DfsPackfile: Emit the index load with the index object
  * 09f6383f5 Switch back to wagon-ssh-external
  * ba1653162 Ensure home directory not null before using in Sshdsessionfactory
  * 4f5afe9d7 CommitGraphWriter: Make the list of chunks immutable
  * f90f0717a CommitGraphWriter: Assert written bytes
  * c024cb23d Remove unused API problem filters
  * 43681ee74 Fix list of 3rd party bundles in p2 repo
  * 9072103f3 Checkout: better directory handling
  * 13c8dacae CommitGraphWriter: throw exception on unknown chunk
  * fb51a2234 Document commit-graph options supported by JGit
  * e51a0e51e Update mockito to 5.5.0
  * 2d0a5fa64 Update tycho to 4.0.2
  * b6b0d323a Update jmh to 1.37
  * 46264ba48 Update bouncycastle to 1.76
  * a2f326b76 Handle global git config $XDG_CONFIG_HOME/git/config
  * e7a09e316 Introduce core.packedIndexGitUseStrongRefs config key
  * 551ca93cc DfsGarbageCollector: provide commit graph stats
  * 6f7333693 DfsGarbageCollector: put only GC commits into the commit graph
  * b4b8f05ee DfsReader: Expose when indices are loaded
  * 3a6eec9bb Express the explicit intention of creating bitmaps in GC
  * ac8d7838f GC: prune all packfiles after the loosen phase
  * c353645a0 Move footer-line parsing methods from RevCommit to FooterLine
  * c8f5a3f99 RevCommitCG: Read changed-path-filters directly from commit graph
  * eecd93714 Update commons-codec to 1.16.0
  * 8879eec46 Add missing package import needed to use MurmurHash3
  * ec3d919aa Identify a commit that generates a diffEntry on a rename Event.
  * f196c7a0e Pack: open reverse index from file if present
  * 000e7caf5 PackReverseIndexV1: reverse index parsed from version 1 file
  * 2eba4e5b4 PackReverseIndex: open file if present otherwise compute
  * 8123dcd69 PackReverseIndex: verify checksums
  * 7d2669587 ComputedPackReverseIndex: Clarify custom bucket sort algorithm
  * 3b77e33ad CommitGraphWriter: add option for writing/using bloom filters
  * 77aec6214 CommitGraphWriter: reuse changed path filters
  * d3b40e72a RevWalk: use changed path filters
  * ff0f7c174 CommitGraphLoader: read changed-path filters
  * 49beb5ae5 CommitGraphWriter: write changed-path filters
  * 23758d7a6 ssh: PKCS#11 support
  * db08835c6 GC: Remove handling of extra pack for RefTree
  * b2f7dc189 Remove redundant specification of type arguments
  * 760bdd09b DfsPackParser: Create object indices if config says so
  * afb013b98 PackParserTest: Extract pack-writing helper code to its own class
  * cb99ff5bb DfsInserter: generate object size index if config says so
  * 4d2a003b9 DfsInserter: populate full size on object insertion
  * 12a4a4cca DFSGarbargeCollector: Write object size indices
  * 9dace2e6d DfsReader/PackFile: Implement isNotLargerThan using the obj size idx
  * 79b46a0ef Fix S3Repository getSize to handle larger object sizes
  * 55230e2b9 Add missing bazel dependency to benchmarks
  * 4d5f2ada5 Update JMH to 1.36
  * 8f1693c2d Update eclipse-jarsigner-plugin to 1.4.2
  * 23a0e7e06 Update maven-surefire-report-plugin to 3.0.0
  * 6eb5a4cc8 Update maven-project-info-reports-plugin to 3.4.3
  * 9a60f7f7a Update maven-compiler-plugin to 3.11.0
  * 5fcd681ac Update maven-enforcer-plugin to 3.3.0
  * 6250020fa Update build-helper-maven-plugin to 3.4.0
  * a00f1663d Update spring-boot-maven-plugin to 2.7.13
  * d32352a44 Update maven-source-plugin to 3.3.0
  * 8e6197162 PackReverseIndex: separate out the computed implementation
  * 74547f4a6 PackReverseIndex: use static builder instead of constructor
  * 181b629f7 Gc#writePack: write the reverse index file to disk
  * a80130d65 Bazel: Fix remote build execution for Java 17
  * cae6d4e6b Update to Orbit S20230516204213
  * 6b3b2b33a GraphObjectIndex: fix search in findGraphPosition
  * 0d92f543f PGP sign p2 artefacts
  * 5a00dd873 Update dash license-tool-plugin to 1.0.2
  * 2cbf0c177 Also add suppressed exception if unchecked exception occurs in finally
  * 4562e79e2 Use hamcrest 2.2 directly from Maven Central
  * 04ca81308 Use commons-logging directly from Maven Central
  * 72455b5fd Update jna to 5.13.0
  * e53250921 Use bytebuddy directly from Maven Central
  * ca0696664 Use jna directly from Maven Central
  * b3dcf6344 Use org.tukaani:xz directly from Maven Central
  * 4aa89daac Use args4j directly from Maven Central
  * 7e67fe1d4 Use gson directly from Maven Central
  * 913e6cf3f Switch to Apache MINA sshd 2.10.0
  * 2c89a3ec7 PackExt: add a #getTmpExtension method
  * d0564cf8a UploadPack: Record negotiation stats on fetchV2 call
  * ce88e62ed PackWriter: write the PackReverseIndex file

## Other dependency changes

* [Change 388177](https://gerrit-review.googlesource.com/388177)
Update error_prone_annotations to 2.22.0

* [Change 372276](https://gerrit-review.googlesource.com/372276)
Update guice version to 6.0.0

* [Change 388038](https://gerrit-review.googlesource.com/388038)
Add java-prettify as git submodule

* [Change 387998](https://gerrit-review.googlesource.com/387998)
Update gitiles version to 1.3.0

* [Change 387999](https://gerrit-review.googlesource.com/387999)
Update SSHD version to 2.10.0

* [Issue 302090044](https://crbug.com/gerrit/302090044):
Update plugins/download-commands
  - 4eb9ae135 Add `--recurse-submodules` flag to supporting commands

* [Change 336947](https://gerrit-review.googlesource.com/336947)
Upgrade guava to 32.1-jre

* [Change 384754](https://gerrit-review.googlesource.com/384754)
Update plugins/replication
  - f447543ba5 Avoid opportunity to inadvertently block the distributor
  - 082c710e28 Reduced log level for Task deletion errors in MP setups

* [Change 378434](https://gerrit-review.googlesource.com/378434)
Update Resemble to 5.0

* [Change 219455](https://gerrit-review.googlesource.com/219455)
Update Lucene version to 8.11.2

## Other core changes

* [Change 327739](https://gerrit-review.googlesource.com/327739)
  Update Java language level to Java 17 per default

## Bugfix releases
