{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1a011548_c8ef5c67",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-10-31T23:47:51Z",
      "side": 1,
      "message": "This `and` means that this change has to be split into two.",
      "range": {
        "startLine": 7,
        "startChar": 21,
        "endLine": 7,
        "endChar": 24
      },
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a013e350_8916e6d5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-10-31T23:57:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a011548_c8ef5c67",
      "range": {
        "startLine": 7,
        "startChar": 21,
        "endLine": 7,
        "endChar": 24
      },
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df0bffc3_e2b3f409",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-10-28T22:30:43Z",
      "side": 1,
      "message": "Should we add a \"Performance improvements\" section and include https://gerrit-review.googlesource.com/c/gerrit/+/349355 ?",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65eed9d0_7b70f1d0",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-10-28T22:31:53Z",
      "side": 1,
      "message": "True, however I skipped it because it had `Release-Notes: skip`.",
      "parentUuid": "df0bffc3_e2b3f409",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "281cf436_6b435c43",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-10-28T22:33:37Z",
      "side": 1,
      "message": "Yeah, I should have caught that. There are likely other perf improvements in 3.7 overall so I think we can add more to that section too.",
      "parentUuid": "65eed9d0_7b70f1d0",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ce2366b_0f37ac8f",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-10-28T22:34:41Z",
      "side": 1,
      "message": "You can probably use this from the commit message as the text to go with the note:\n```\nObtaining the actual location of a repository using base-path\nand project name can be slow as it involves some guessing to\nlocate the repository. Cache the locations once they are\nobtained to avoid repeated work, thereby improving performance\nwhen opening repositories.\n```",
      "parentUuid": "281cf436_6b435c43",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce9b3687_591a4414",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-10-28T22:50:51Z",
      "side": 1,
      "message": "Here\u0027s a first pass of changes whose first \u0027.0\u0027 release will be 3.7.0 that might fit into the perf improvements section.\n\n344695: Fix pagination to stop querying when there are no more results | https://gerrit-review.googlesource.com/c/gerrit/+/344695 (there\u0027s a bunch that are index improvements, maybe group together?)\n\n343798: Provide configuration to paginate index queries with increasing size | https://gerrit-review.googlesource.com/c/gerrit/+/343798\n\n343694: ChangeIsVisibleToPredicate: Only create PermissionBackend.WithUser once | https://gerrit-review.googlesource.com/c/gerrit/+/343694\n\n343096: Introduce a SEARCH_AFTER index pagination type | https://gerrit-review.googlesource.com/c/gerrit/+/343096 (Maybe this even belongs under Release Highlights?)\n\n338034: Fix SSH queries to not show commit-message unless --commit-message is provided | https://gerrit-review.googlesource.com/c/gerrit/+/338034 (Maybe bucket the SSH query improvements together? This one is also a breaking change though)\n\n338614: Optimize SSH queries to avoid loading individual accounts | https://gerrit-review.googlesource.com/c/gerrit/+/338614\n\n338834: Avoid creating an IdentifiedUser multiple times in a SSH query | https://gerrit-review.googlesource.com/c/gerrit/+/338834\n\n338574: Cache ProjectControl instances in SSH queries | https://gerrit-review.googlesource.com/c/gerrit/+/338574\n\n334746: Set PerThreadCache as readonly after merging a change | https://gerrit-review.googlesource.com/c/gerrit/+/334746 (There\u0027s a bunch of similar changes, maybe bucket under one heading?)\n\n338154: Lazy load change notes when submit by push | https://gerrit-review.googlesource.com/c/gerrit/+/338154\n\n349694: Improve performance of parentof operator | https://gerrit-review.googlesource.com/c/gerrit/+/349694\n\n342894: Limit index query results in ChangeNotes#createCheckedUsingIndexLookup | https://gerrit-review.googlesource.com/c/gerrit/+/342894\n\n339795: CreateRefControl: Check permissions on source refs | https://gerrit-review.googlesource.com/c/gerrit/+/339795\n\n345634: Paginate internal change index queries | https://gerrit-review.googlesource.com/c/gerrit/+/345634\n\n346974: git-upload-pack: fetch the full list of changes lazily | https://gerrit-review.googlesource.com/c/gerrit/+/346974\n\n345678: Update jgit to 85182df26 | https://gerrit-review.googlesource.com/c/gerrit/+/345678",
      "parentUuid": "9ce2366b_0f37ac8f",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17ca9656_8e24db61",
        "filename": "pages/site/releases/3.7.md",
        "patchSetId": 2
      },
      "lineNbr": 132,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-11-01T01:14:59Z",
      "side": 1,
      "message": "\u003e Here\u0027s a first pass of changes whose first \u0027.0\u0027 release will be 3.7.0 that might fit into the perf improvements section.\n\u003e \n\u003e 344695: Fix pagination to stop querying when there are no more results | https://gerrit-review.googlesource.com/c/gerrit/+/344695 (there\u0027s a bunch that are index improvements, maybe group together?)\n\nThat was flagged with `Release-Notes: skip`: change of mind?\nAlso it was mentioned that ```Note that, in most\nsetups which have a default query-limit of 500 and open changes more\nthan the query-limit, we won\u0027t see any performance improvement.```\n\nSo, for most of the users, it won\u0027t change performance. Possibly that\u0027s the reason why it was requested *NOT* to be included?\n\n@kaushik.lingarkar@linaro.org WDYT?\n\n\u003e 343798: Provide configuration to paginate index queries with increasing size | https://gerrit-review.googlesource.com/c/gerrit/+/343798\n\nDone, copied from v3.5.3. I believe I missed it also on v3.6.2.\n\n\u003e 343694: ChangeIsVisibleToPredicate: Only create PermissionBackend.WithUser once | https://gerrit-review.googlesource.com/c/gerrit/+/343694\n\nDone.\n\n\u003e 343096: Introduce a SEARCH_AFTER index pagination type | https://gerrit-review.googlesource.com/c/gerrit/+/343096 (Maybe this even belongs under Release Highlights?)\n\nDone. This is a change of v3.4.6, therefore is not a specific highlight of Gerrit v3.7. We typically put in the highlights what has been developed for that release which did not exist before (e.g. the mention feature, or the project import from other Gerrit servers).\n\n\u003e 338034: Fix SSH queries to not show commit-message unless --commit-message is provided | https://gerrit-review.googlesource.com/c/gerrit/+/338034 (Maybe bucket the SSH query improvements together? This one is also a breaking change though)\n\nThis was already mentioned in the breaking changes of v3.4, v3.5 and v3.6: keeping it in the same section for consistency.\n\n\u003e 338614: Optimize SSH queries to avoid loading individual accounts | https://gerrit-review.googlesource.com/c/gerrit/+/338614\n\nDone.\n\n\u003e 338834: Avoid creating an IdentifiedUser multiple times in a SSH query | https://gerrit-review.googlesource.com/c/gerrit/+/338834\n\nDone.\n\n\u003e 338574: Cache ProjectControl instances in SSH queries | https://gerrit-review.googlesource.com/c/gerrit/+/338574\n\nDone.\n\n\u003e 334746: Set PerThreadCache as readonly after merging a change | https://gerrit-review.googlesource.com/c/gerrit/+/334746 (There\u0027s a bunch of similar changes, maybe bucket under one heading?)\n\nThe `PerThreadCache` of change notes has been reverted from v3.3 onwards, because all that mechanism was not needed anymore, thanks to the more advanced cached-refdb introduced.\n\nIt has been omitted on purpose as it would have been misleading.\n\n\u003e 338154: Lazy load change notes when submit by push | https://gerrit-review.googlesource.com/c/gerrit/+/338154\n\nDone.\n\n\u003e 349694: Improve performance of parentof operator | https://gerrit-review.googlesource.com/c/gerrit/+/349694\n\nThis was flagged with `Release-Notes: skip` and therefore not included in any of the releases. @kaushik.lingarkar@linaro.org WDYT?\n\nIf we decide to include this, then it should be done also on v3.4.6, v3.5.3 and v3.6.2. It won\u0027t make sense to have it only here as it would be misleading.\n\n\u003e 342894: Limit index query results in ChangeNotes#createCheckedUsingIndexLookup | https://gerrit-review.googlesource.com/c/gerrit/+/342894\n\nThis was flagged with `Release-Notes: skip` and therefore not included. @kaushik.lingarkar@linaro.org WDYT?\n \n\u003e 339795: CreateRefControl: Check permissions on source refs | https://gerrit-review.googlesource.com/c/gerrit/+/339795\n\nLooks like it was also missed on v3.5.3 and v3.6.2.\nDone on v3.7.0-rc4, will fix on the other releases as a follow-up.\n\n\u003e 345634: Paginate internal change index queries | https://gerrit-review.googlesource.com/c/gerrit/+/345634\n\nThis was flagged with `Release-Notes: skip` and therefore not included. @kaushik.lingarkar@linaro.org WDYT?\n\n\u003e 346974: git-upload-pack: fetch the full list of changes lazily | https://gerrit-review.googlesource.com/c/gerrit/+/346974\n\nDone. It will also need to be moved to the performance fixes session in v3.6.2.\n\n\u003e 345678: Update jgit to 85182df26 | https://gerrit-review.googlesource.com/c/gerrit/+/345678\n\nDone at L374.",
      "parentUuid": "ce9b3687_591a4414",
      "revId": "f0c657fd7a079849bf1c671413124ed2dce529a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}